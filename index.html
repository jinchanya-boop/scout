<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 50%, #ddd6fe 100%); }
        .card-shadow { box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1); }
        .btn-primary { background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%); transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3); }
        .signature-pad { border: 2px dashed #c4b5fd; background: #faf5ff; }
        .rubric-item { background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); }
        .modal-overlay { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
        .file-input-label { cursor: pointer; background-color: #f3e8ff; border: 2px dashed #c4b5fd; }
        .file-input-label:hover { background-color: #e9d5ff; }
        .image-preview { width: 100%; height: 150px; object-fit: cover; border: 1px solid #ddd6fe; }

        /* --- ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ --- */
        .grade-tab-btn-active {
             background: linear-gradient(135deg, #059669, #10b981); /* Green Gradient */
             color: white;
             font-weight: 600;
             box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.2), 0 2px 4px -1px rgba(16, 185, 129, 0.1);
        }
        .grade-tab-btn-inactive {
            background-color: #f3f4f6; /* gray-100 */
            color: #374151; /* gray-700 */
        }
        .grade-tab-btn-inactive:hover {
             background-color: #e5e7eb; /* gray-200 */
        }

        .term-tab-active {
            border-bottom: 3px solid #6366f1; /* indigo-500 */
            color: #6366f1;
            font-weight: 600;
        }
        .term-tab-inactive {
            color: #6b7280; /* gray-500 */
            border-bottom: 3px solid transparent;
        }
        .term-tab-inactive:hover {
            color: #111827; /* gray-900 */
            border-bottom-color: #d1d5db; /* gray-300 */
        }
        /* ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
        .schedule-grade-content, .schedule-term-content { display: none; }
        .active-schedule-grade, .active-schedule-term { display: block; }
        .grid-schedule-term { display: grid; } /* Ensure grid layout when active */


        /* START: FINAL PRINT STYLES */
        @media print {
            /* --- Basic setup --- */
            body { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; background-color: #fff; }
            body > *:not(#printArea) { display: none; }
            #printArea { display: block !important; visibility: visible !important; position: static; font-family: 'Sarabun', sans-serif; font-size: 11pt; color: #000; }
            /* --- Page control --- */
            .single-page-activity { width: 100%; height: 100%; box-sizing: border-box; page-break-inside: avoid !important; padding: 1.5cm; }
            .page-break { page-break-before: always; }
            /* --- New Form Styles --- */
            .print-form { line-height: 1.8; }
            .form-header { text-align: center; margin-bottom: 1cm; }
            .form-header h1 { font-size: 16pt; font-weight: bold; margin: 0; }
            .form-header h2 { font-size: 14pt; margin: 0; }
            .data-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5cm 1.5cm; margin-bottom: 0.5cm; }
            .data-field { display: flex; border-bottom: 1px dotted #000; padding-bottom: 2px; }
            .data-field.full-width { grid-column: 1 / -1; }
            .data-field.no-border { border-bottom: none; }
            .data-field strong { margin-right: 0.5em; white-space: nowrap; }
            .data-field span { width: 100%; }
            .attendance-item { margin-left: 1.5cm; white-space: nowrap; }
            .attendance-item span { display: inline-block; width: 5em; text-align: center; }
            .photo-section { margin-top: 1cm; }
            .photo-section h3 { text-align: center; font-weight: bold; margin-bottom: 0.5cm; }
            .photo-grid { display: flex; justify-content: space-around; gap: 1cm; }
            .photo-container { border: 1px solid #000; width: 7cm; height: 5cm; text-align: center; padding: 0.2cm; display: flex; flex-direction: column; justify-content: center; align-items: center; }
            .photo-container img { max-width: 100%; max-height: 4cm; object-fit: contain; margin-bottom: 0.2cm; }
            .photo-container p { margin: 0; }
            .form-footer { margin-top: 1cm; display: flex; justify-content: flex-end; }
            .signature-area { width: 7cm; text-align: center; }
            .signature-box { border: 1px solid #000; height: 2.5cm; margin-bottom: 0.2cm; display: flex; align-items: center; justify-content: center; }
            .signature-img { max-width: 100%; max-height: 100%; object-fit: contain; }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <header class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <img src="https://img2.pic.in.th/pic/sa1.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤" class="w-12 h-12 rounded-full object-cover">
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</h1>
                        <p class="text-sm text-purple-600"> ‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ ‡∏°.1-‡∏°.3</p>
                    </div>
                </div>
                </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8">
            <button onclick="openStudentManagement()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">üë•</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3><p class="text-sm text-gray-600">‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</p></div></div>
            </button>
            <button onclick="openAttendanceCheck()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">‚úÖ</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h3><p class="text-sm text-gray-600">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
            </button>
            <button onclick="openActivityStatusDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-indigo-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">üìë</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå</p></div></div>
            </button>
            <button onclick="openDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-blue-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">üìà</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h3><p class="text-sm text-gray-600">‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</p></div></div>
            </button>
            <button onclick="showActivityReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-green-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">üìä</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p></div></div>
            </button>
            <button onclick="showAttendanceReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-yellow-50 transition-colors">
                <div class="flex items-center space-x-3"><span class="text-2xl">üìã</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</h3><p class="text-sm text-gray-600">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
            </button>
        </div>

        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow mb-8 overflow-hidden">
             <div class="bg-gray-50 p-3 flex flex-wrap gap-2 justify-center border-b border-gray-200">
                <button onclick="showScheduleGrade('m1')" id="schedule-tab-m1" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-active">
                    üìö ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢
                </button>
                <button onclick="showScheduleGrade('m2')" id="schedule-tab-m2" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üéØ ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞
                </button>
                <button onclick="showScheduleGrade('m3')" id="schedule-tab-m3" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üëë ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥
                </button>
            </div>

            <div id="schedule-content-area" class="p-6">

                <div id="schedule-grade-m1" class="schedule-grade-content active-schedule-grade">
                     <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üìö</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m1', 1)" id="schedule-m1-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m1', 2)" id="schedule-m1-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m1-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üåç</span> ‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üìú</span> ‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üéñÔ∏è</span> ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üö∂</span> ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üõ∂</span> ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span> ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üéí</span> ‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span> ‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üî•</span> ‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üß≠</span> ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü™¢</span> ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü©π</span> ‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚ú®</span> ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m1-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏π‡πà)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚≠ê</span> ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span> ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡∏° ‡∏ü‡πâ‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üå≥</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏õ‡πà‡∏≤</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚ú®</span> ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üîÑ</span> ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö</li>
                             </ul>
                         </div>
                     </div>
                </div>

                <div id="schedule-grade-m2" class="schedule-grade-content">
                     <div class="bg-gradient-to-r from-green-600 to-green-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üéØ</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m2', 1)" id="schedule-m2-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m2', 2)" id="schedule-m2-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m2-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span> ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span> ‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üåø</span> ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span> ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span> ‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üé®</span> ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üí°</span> ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚ú®</span> ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m2-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                          <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏™‡∏≤‡∏¢‡∏¢‡∏®)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üé≠</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèÉ</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏Å‡∏£‡∏µ‡∏ë‡∏≤ (‡∏ß‡∏¥‡πà‡∏á/‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á)</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡πÅ‡∏£‡∏°‡∏Ñ‡∏∑‡∏ô, ‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üßó</span> ‡∏Å‡∏≤‡∏£‡πÑ‡∏ï‡πà‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üß≠</span> ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏û‡∏¥‡∏Å‡∏±‡∏î)</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üî≠</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üçÉ</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô)</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üë£</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏Å‡∏î‡∏£‡∏≠‡∏¢</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üìù</span> ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                             </ul>
                         </div>
                     </div>
                </div>

                <div id="schedule-grade-m3" class="schedule-grade-content">
                     <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üëë</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m3', 1)" id="schedule-m3-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m3', 2)" id="schedule-m3-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m3-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span> ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üåø</span> ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üëë</span> ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span> ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span> ‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üö∂</span> ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üé®</span> ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span> ‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üí°</span> ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üìù</span> ‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m3-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ú‡∏π‡πâ‡∏ô‡∏≥)</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">ü§ù</span> ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span> ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üëë</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥*</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üõ†Ô∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å*</li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ó‡∏±‡∏Å‡∏©‡∏∞)</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤*</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üì¶</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏•‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£*</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡πà‡∏≤‡∏°*</li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå)</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start"><span class="mr-2 mt-1">üå≥</span> ‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥*</li>
                                 <li class="flex items-start"><span class="mr-2 mt-1">üìù</span> ‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</li>
                             </ul>
                         </div>
                     </div>
                </div>

            </div> </div>
        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow p-6 mb-8">
            <div class="flex items-center mb-6"><span class="text-2xl mr-3">üîÑ</span><h2 class="text-2xl font-bold text-gray-800">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ê‡∏≤‡∏ô (Station Rotation)</h2></div>
            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á</h3>
                    <p class="text-gray-700">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 4 ‡∏Å‡∏≠‡∏á (Troops) ‡πÇ‡∏î‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏≠‡∏á‡∏à‡∏∞‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏° 4 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ (Stations) ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 4 ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (Time Slots) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ</p>
                    <ul class="list-disc list-inside text-gray-700 mt-3 space-y-1">
                        <li><strong>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô:</strong> 1 ‡∏Å‡∏≠‡∏á (Troop) (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 1 ‡∏´‡∏°‡∏π‡πà)</li>
                        <li><strong>‡∏°.1 (4 ‡∏Å‡∏≠‡∏á x 4 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                        <li><strong>‡∏°.2 (4 ‡∏Å‡∏≠‡∏á x 4 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                        <li><strong>‡∏°.3 (4 ‡∏Å‡∏≠‡∏á x 3 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô ‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 1-4 ‡∏à‡∏∞‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</li>
                    </ul>
                </div>
                <div class="overflow-x-auto">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ê‡∏≤‡∏ô (4x4)</h3>
                    <table class="w-full min-w-lg text-left border-collapse">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200">‡πÄ‡∏ß‡∏•‡∏≤ / ‡∏Å‡∏≠‡∏á</th>
                                <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-blue-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 1</th>
                                <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-green-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 2</th>
                                <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-amber-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 3</th>
                                <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-rose-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 4</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 1 (09:00-10:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td></tr>
                            <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 2 (10:00-11:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td></tr>
                            <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 3 (13:00-14:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td></tr>
                            <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 4 (14:00-15:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>

    <div id="studentManagementModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üë•</span><h3 class="text-xl font-bold">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3></div><button onclick="closeStudentManagement()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div></div>
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                    <div><label class="block text-sm font-medium mb-2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label><select id="manageGrade" onchange="loadManageStudentList()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div>
                    <div><label class="block text-sm font-medium mb-2">‡∏Å‡∏≠‡∏á</label><select id="manageGroup" onchange="updateManageTroopOptions()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á</option><option value="‡∏Å‡∏≠‡∏á1">‡∏Å‡∏≠‡∏á 1</option><option value="‡∏Å‡∏≠‡∏á2">‡∏Å‡∏≠‡∏á 2</option><option value="‡∏Å‡∏≠‡∏á3">‡∏Å‡∏≠‡∏á 3</option><option value="‡∏Å‡∏≠‡∏á4">‡∏Å‡∏≠‡∏á 4</option></select></div>
                    <div><label class="block text-sm font-medium mb-2">‡∏´‡∏°‡∏π‡πà</label><select id="manageTroop" onchange="loadManageStudentList()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà</option></select></div>
                    <div class="flex items-end"><button onclick="showAddStudentForm()" class="w-full px-4 py-2 btn-primary text-white rounded-lg font-medium">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button></div>
                </div>
                <div id="studentForm" class="hidden mb-6 p-4 bg-purple-50 rounded-lg"><h4 class="font-medium mb-4" id="formTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà</h4><form id="addStudentForm"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium mb-1">‡∏ä‡∏∑‡πà‡∏≠</label><input type="text" id="studentFirstName" required class="w-full px-3 py-2 rounded-lg border" placeholder="‡∏ä‡∏∑‡πà‡∏≠"></div><div><label class="block text-sm font-medium mb-1">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input type="text" id="studentLastName" required class="w-full px-3 py-2 rounded-lg border" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"></div><div><label class="block text-sm font-medium mb-1">‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</label><input type="text" id="studentId" required class="w-full px-3 py-2 rounded-lg border" placeholder="‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß"></div></div><div class="flex justify-end space-x-3 mt-4"><button type="button" onclick="hideStudentForm()" class="px-4 py-2 border rounded-lg">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button><button type="submit" class="px-4 py-2 btn-primary text-white rounded-lg">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></div></form></div>
                <div id="manageStudentList"><div class="text-center text-gray-500 py-8"><span class="text-4xl block mb-2">üë•</span><p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô, ‡∏Å‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p></div></div>
            </div>
        </div>
    </div>
    <div id="attendanceModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">‚úÖ</span><h3 class="text-xl font-bold">‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h3></div><button onclick="closeAttendanceCheck()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div></div>
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-medium mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label><input type="date" id="attendanceDate" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"></div><div><label class="block text-sm font-medium mb-2">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label><select id="attendanceActivity" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</option><option value="‡πÄ‡∏ä‡πâ‡∏≤">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏ä‡πâ‡∏≤</option><option value="‡∏™‡∏≤‡∏¢">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏≤‡∏¢</option><option value="‡∏ö‡πà‡∏≤‡∏¢">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ö‡πà‡∏≤‡∏¢</option></select></div></div>
                <div class="mb-6"><label class="block text-sm font-medium mb-2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label><select id="attendanceGrade" onchange="loadAttendanceStudentList()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-medium mb-2">‡∏Å‡∏≠‡∏á</label><select id="attendanceGroup" onchange="updateAttendanceTroopOptions()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á</option><option value="‡∏Å‡∏≠‡∏á1">‡∏Å‡∏≠‡∏á 1</option><option value="‡∏Å‡∏≠‡∏á2">‡∏Å‡∏≠‡∏á 2</option><option value="‡∏Å‡∏≠‡∏á3">‡∏Å‡∏≠‡∏á 3</option><option value="‡∏Å‡∏≠‡∏á4">‡∏Å‡∏≠‡∏á 4</option></select></div><div><label class="block text-sm font-medium mb-2">‡∏´‡∏°‡∏π‡πà</label><select id="attendanceTroop" onchange="loadAttendanceStudentList()" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà</option></select></div></div>
                <div id="attendanceStudentList"><div class="text-center text-gray-500 py-8"><span class="text-4xl block mb-2">‚úÖ</span><p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</p></div></div>
                <div class="flex justify-end mt-6"><button onclick="saveAttendance()" class="px-6 py-2 btn-primary text-white rounded-lg font-medium">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</button></div>
            </div>
        </div>
    </div>
    <div id="activityModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üìù</span><h3 class="text-xl font-bold">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3></div><button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div></div>
            <div class="p-6"><form id="activityForm"><div class="mb-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium mb-2">üïê ‡πÄ‡∏ß‡∏•‡∏≤</label><input type="text" id="activityTime" class="w-full px-4 py-2 rounded-lg border" readonly></div><div><label class="block text-sm font-medium mb-2">üìã ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label><input type="text" id="activityName" class="w-full px-4 py-2 rounded-lg border" readonly></div></div></div><div class="mb-6"><label class="block text-sm font-medium mb-2">üë• ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô, ‡∏Å‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà</label><div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"><div><label class="block text-xs mb-1">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label><select id="activityGrade" onchange="loadStudentList()" class="w-full px-3 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div><div><label class="block text-xs mb-1">‡∏Å‡∏≠‡∏á</label><select id="selectedGroup" onchange="updateActivityTroopOptions()" class="w-full px-3 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á</option><option value="‡∏Å‡∏≠‡∏á1">‡∏Å‡∏≠‡∏á 1</option><option value="‡∏Å‡∏≠‡∏á2">‡∏Å‡∏≠‡∏á 2</option><option value="‡∏Å‡∏≠‡∏á3">‡∏Å‡∏≠‡∏á 3</option><option value="‡∏Å‡∏≠‡∏á4">‡∏Å‡∏≠‡∏á 4</option></select></div><div><label class="block text-xs mb-1">‡∏´‡∏°‡∏π‡πà</label><select id="selectedTroop" onchange="loadStudentList()" class="w-full px-3 py-2 rounded-lg border" disabled><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà</option></select></div></div><div id="studentAttendanceList" class="hidden"><div class="bg-purple-50 rounded-lg p-4"><h4 class="font-medium mb-3 flex items-center"><span class="mr-2">üìã</span>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</h4><div id="studentCheckList" class="space-y-2"></div></div></div></div><div id="attendanceSummary" class="mt-4 p-4 bg-gray-100 rounded-lg hidden"><h5 class="font-semibold mb-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠:</h5><div class="flex flex-wrap gap-x-6 gap-y-2 text-sm"><span class="font-medium">‚úÖ ‡∏°‡∏≤: <span id="summaryPresent" class="text-green-600 font-bold">0</span></span><span class="font-medium">üìã ‡∏•‡∏≤: <span id="summaryLeave" class="text-yellow-600 font-bold">0</span></span><span class="font-medium">‚ùå ‡∏Ç‡∏≤‡∏î: <span id="summaryAbsent" class="text-red-600 font-bold">0</span></span><span class="font-medium">üèÉ ‡∏´‡∏ô‡∏µ: <span id="summarySkipped" class="text-orange-600 font-bold">0</span></span></div></div>
            <div class="mb-6 mt-6">
                <h4 class="text-lg font-semibold mb-4 flex items-center"><span class="mr-2">üì∏</span>‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (2 ‡∏†‡∏≤‡∏û)</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="activityPhoto1" class="file-input-label p-4 rounded-lg flex flex-col items-center justify-center text-center">
                            <span class="text-3xl">üñºÔ∏è</span>
                            <span class="mt-2 text-sm font-medium text-purple-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 1</span>
                            <span class="text-xs text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</span>
                        </label>
                        <input type="file" id="activityPhoto1" class="hidden" accept="image/*" onchange="previewImage('activityPhoto1', 'photoPreview1')">
                        <img id="photoPreview1" class="mt-2 rounded-lg image-preview hidden" alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 1">
                    </div>
                    <div>
                        <label for="activityPhoto2" class="file-input-label p-4 rounded-lg flex flex-col items-center justify-center text-center">
                            <span class="text-3xl">üñºÔ∏è</span>
                            <span class="mt-2 text-sm font-medium text-purple-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2</span>
                             <span class="text-xs text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</span>
                        </label>
                        <input type="file" id="activityPhoto2" class="hidden" accept="image/*" onchange="previewImage('activityPhoto2', 'photoPreview2')">
                        <img id="photoPreview2" class="mt-2 rounded-lg image-preview hidden" alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2">
                    </div>
                </div>
            </div>
            <div class="mb-6 mt-6"><h4 class="text-lg font-semibold mb-4 flex items-center"><span class="mr-2">‚≠ê</span>‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h4><div class="space-y-3" id="rubricItems"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"><div><label class="block text-sm font-medium mb-2">üéØ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</label><input type="number" id="totalScore" min="0" max="100" class="w-full px-4 py-2 rounded-lg border" placeholder="0-100"></div><div><label class="block text-sm font-medium mb-2">üìä ‡∏£‡∏∞‡∏î‡∏±‡∏ö</label><select id="gradeLevel" class="w-full px-4 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</option><option value="‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° (90-100)</option><option value="‡∏î‡∏µ‡∏°‡∏≤‡∏Å">‡∏î‡∏µ‡∏°‡∏≤‡∏Å (80-89)</option><option value="‡∏î‡∏µ">‡∏î‡∏µ (70-79)</option><option value="‡∏û‡∏≠‡πÉ‡∏ä‡πâ">‡∏û‡∏≠‡πÉ‡∏ä‡πâ (60-69)</option><option value="‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (<60)</option></select></div></div><div class="mb-6"><label class="block text-sm font-medium mb-2">üí¨ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô/‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ó‡πå</label><textarea id="comments" rows="4" class="w-full px-4 py-2 rounded-lg border" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô..."></textarea></div><div class="mb-6"><label class="block text-sm font-medium mb-2">üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö</label><textarea id="notes" rows="3" class="w-full px-4 py-2 rounded-lg border" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea></div><div class="mb-6"><label class="block text-sm font-medium mb-2">‚úçÔ∏è ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö</label><div class="signature-pad rounded-lg p-4 text-center"><canvas id="signatureCanvas" width="300" height="100" class="border-2 border-dashed rounded-lg mx-auto cursor-crosshair"></canvas><div class="mt-2 space-x-2"><button type="button" onclick="clearSignature()" class="text-sm text-purple-600 hover:text-purple-800">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô</button></div></div></div><div class="flex justify-end space-x-3"><button type="button" onclick="closeModal()" class="px-6 py-2 border rounded-lg">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button><button type="submit" class="px-6 py-2 btn-primary text-white rounded-lg font-medium">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button></div></form></div>
        </div>
    </div>
     <div id="dashboardModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b sticky top-0 bg-white/80 backdrop-blur-md"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üìà</span><h3 class="text-xl font-bold">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h3></div><button onclick="closeDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div><div class="mt-4"><label for="dashboardGradeFilter" class="text-sm font-medium">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô:</label><select id="dashboardGradeFilter" onchange="renderDashboardCharts()" class="mt-1 w-full md:w-auto px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div></div>
            <div class="p-6 space-y-8"><div><h4 class="text-lg font-semibold mb-4">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ (‡∏£‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</h4><div class="p-4 bg-gray-50 rounded-lg"><canvas id="attendanceChart"></canvas></div></div><div><h4 class="text-lg font-semibold mb-4">‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</h4><div class="p-4 bg-gray-50 rounded-lg"><canvas id="scoreChart"></canvas></div></div></div>
        </div>
    </div>

    <div id="activityStatusModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] flex flex-col">
            <div class="p-6 border-b">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3"><span class="text-2xl">üìë</span><h3 class="text-xl font-bold">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3></div>
                    <button onclick="closeActivityStatusDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button>
                </div>
            </div>
            <div class="p-6 flex-grow overflow-y-auto">
                <div class="border-b border-gray-200 mb-4">
                    <nav id="statusTabs" class="flex space-x-4" aria-label="Tabs">
                        <a href="#" onclick="renderActivityStatusTable('m1'); setActiveTab(this); return false;" class="status-tab text-purple-600 border-purple-600 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1</a>
                        <a href="#" onclick="renderActivityStatusTable('m2'); setActiveTab(this); return false;" class="status-tab text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2</a>
                        <a href="#" onclick="renderActivityStatusTable('m3'); setActiveTab(this); return false;" class="status-tab text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3</a>
                    </nav>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°</th>
                            </tr>
                        </thead>
                        <tbody id="activityStatusTableBody" class="bg-white divide-y divide-gray-200">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="p-4 border-t bg-gray-50 text-right">
                <button id="printGradeReportBtn" onclick="printGradeReport()" class="px-6 py-2 btn-primary text-white rounded-lg font-medium">
                    ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ
                </button>
            </div>
        </div>
    </div>
    <div id="printArea" class="hidden font-sans"></div>

<script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyhidTjPGC6HvQ0Jmv7eIR4IVYKdDqI7nES5Ovexyj-m9QriFYa9Mm9AYBoJr5-Sgzw/exec';

    let studentData = {};
    let editingStudent = null;
    let canvas, ctx, isDrawing = false;
    let attendanceSummaryData = null;
    let activitySummaryData = null;
    let attendanceChartInstance = null;
    let scoreChartInstance = null;
    let recordedActivitiesData = null;
    let currentStatusGrade = 'm1';

    // ‚ùå ‡∏•‡∏ö scheduleData ‡πÅ‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏¥‡πâ‡∏á ‚ùå
    // const scheduleData = { ... };

    const rubricCriteria = {
        default:[{criteria:"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",maxScore:25},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡πÉ‡∏ô‡∏ó‡∏µ‡∏°",maxScore:25},{criteria:"‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö",maxScore:25},{criteria:"‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö",maxScore:25}],
        skill:[{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ",maxScore:30},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥",maxScore:25},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á",maxScore:20}],
        leadership:[{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥",maxScore:30},{criteria:"‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",maxScore:20}]
    };

    document.addEventListener('DOMContentLoaded', function () {
        fetchStudents();
        // ‚ùå ‡∏•‡∏ö event listener ‡∏Ç‡∏≠‡∏á gradeSelect ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏Å‡πà‡∏≤ ‚ùå
        // document.getElementById('gradeSelect').addEventListener('change', loadSchedule);
        // ‚ú® ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à ‚ú®
        showScheduleGrade('m1'); // ‡πÅ‡∏™‡∏î‡∏á ‡∏°.1 ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    });

    async function fetchStudents() {
        try {
            const response = await fetch(SCRIPT_URL + '?action=getStudents');
            if (!response.ok) throw new Error('Network response was not ok');
            studentData = await response.json();
            console.log('Student data loaded successfully:', studentData);
        } catch (error) {
            console.error('Failed to fetch students:', error);
            Swal.fire({icon: 'error', title: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏£‡∏∑‡∏≠ Google Apps Script', confirmButtonColor: '#8b5cf6'});
        } finally {
             // ‚ùå ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å loadSchedule() ‡∏≠‡∏≠‡∏Å ‚ùå
            // loadSchedule();
        }
    }

    // ‚ú® START: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ ‚ú®
    function showScheduleGrade(gradeId) {
        // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ
        document.querySelectorAll('.schedule-grade-content').forEach(content => {
            content.style.display = 'none';
        });
        // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
        document.getElementById(`schedule-grade-${gradeId}`).style.display = 'block';

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏õ‡∏∏‡πà‡∏° Tab ‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ
        document.querySelectorAll('.grade-tab-btn').forEach(tab => {
            tab.classList.remove('grade-tab-btn-active');
            tab.classList.add('grade-tab-btn-inactive');
        });
        // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Tab ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å active
        document.getElementById(`schedule-tab-${gradeId}`).classList.add('grade-tab-btn-active');
        document.getElementById(`schedule-tab-${gradeId}`).classList.remove('grade-tab-btn-inactive');

        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1 ‡πÄ‡∏õ‡πá‡∏ô default ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ
        showScheduleTerm(gradeId, 1);
    }

    function showScheduleTerm(gradeId, term) {
        // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ô‡∏±‡πâ‡∏ô‡πÜ
        document.querySelectorAll(`#schedule-grade-${gradeId} .schedule-term-content`).forEach(content => {
            // ‡πÉ‡∏ä‡πâ style.display ‡πÅ‡∏ó‡∏ô class ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ grid ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
            content.style.display = 'none';
            content.classList.remove('grid-schedule-term'); // ‡∏•‡∏ö‡∏Ñ‡∏•‡∏≤‡∏™ grid ‡∏≠‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô
        });

        // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ grid
        const termContent = document.getElementById(`schedule-${gradeId}-term-${term}`);
        termContent.style.display = 'grid'; // ‡πÉ‡∏ä‡πâ grid ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÑ‡∏ß‡πâ
        termContent.classList.add('grid-schedule-term'); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏•‡∏≤‡∏™ grid ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏õ‡∏∏‡πà‡∏° Tab ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
        document.querySelectorAll(`#schedule-grade-${gradeId} .schedule-term-tab`).forEach(tab => {
            tab.classList.remove('term-tab-active');
            tab.classList.add('term-tab-inactive');
        });

        // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Tab ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å active
        document.getElementById(`schedule-${gradeId}-tab-${term}`).classList.add('term-tab-active');
        document.getElementById(`schedule-${gradeId}-tab-${term}`).classList.remove('term-tab-inactive');
    }
    // ‚ú® END: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà ‚ú®

    async function postData(payload) { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function openDashboard(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function closeDashboard(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function loadDashboardData(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function renderDashboardCharts(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    // ‚ùå ‡∏•‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô loadSchedule() ‡∏ó‡∏¥‡πâ‡∏á ‚ùå
    // function loadSchedule(){ ... }
    function loadManageStudentList(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function showAddStudentForm(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function saveStudent(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function editStudent(grade,group,troop,index){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function deleteStudent(grade,group,troop,index){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function loadAttendanceStudentList(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function saveAttendance(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function loadStudentList(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateAttendanceSummary(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function previewImage(inputId, previewId) { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function resizeImage(file, maxWidth = 800, maxHeight = 800, quality = 0.8) { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function saveActivityRecord() { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateTroopOptions(groupElId,troopElId){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateManageTroopOptions(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateAttendanceTroopOptions(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateActivityTroopOptions(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function openStudentManagement(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function closeStudentManagement(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function openAttendanceCheck(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function closeAttendanceCheck(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function openActivityModal(time,activity,day){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function closeModal() { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function hideStudentForm(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function loadRubricItems(criteria){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function updateRubricScore(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function setupSignatureCanvas(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function getCoords(e){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function startDraw(e){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function draw(e){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function stopDraw(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function drawLine(x,y){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function clearSignature(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function saveDataLocally(data, key) { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function showSuccessMessage(data,isOffline=false){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function showActivityReport(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function showAttendanceReport(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    async function openActivityStatusDashboard() { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function closeActivityStatusDashboard() { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function setActiveTab(selectedTab) { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }

    // ‚ùå ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ scheduleData ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô renderActivityStatusTable ‚ùå
    function renderActivityStatusTable(gradeKey) {
        currentStatusGrade = gradeKey;
        const gradeMap = { 'm1': '‡∏°.1', 'm2': '‡∏°.2', 'm3': '‡∏°.3' };
        const gradeThai = gradeMap[gradeKey];
        // ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ scheduleData[gradeKey].schedule ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚ùå
        // const schedule = scheduleData[gradeKey].schedule;
        const recordedList = recordedActivitiesData[gradeThai] || [];
        const tableBody = document.getElementById('activityStatusTableBody');
        tableBody.innerHTML = '';
        document.getElementById('printGradeReportBtn').textContent = `‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ ${gradeThai}`;

        // ‚ú® ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚ú®
        // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏°‡∏µ ‡πÅ‡∏°‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        // ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏ä‡∏µ‡∏ï '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°'
        if (recordedActivitiesData && recordedActivitiesData[gradeThai] && recordedActivitiesData[gradeThai].length > 0) {
             // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß (‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô recordedActivitiesData ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°)
            // ‡∏™‡∏°‡∏°‡∏ï‡∏¥ recordedActivitiesData[gradeThai] ‡πÄ‡∏õ‡πá‡∏ô Array ‡∏Ç‡∏≠‡∏á Object [{time: '09.00-10.00', activity: '‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß', day: 'day1'}, ...]
            // ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤ ‡πÅ‡∏•‡∏∞ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            // **‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á**
            const activitiesByTime = {};
            recordedActivitiesData[gradeThai].forEach(rec => {
                // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡πÉ‡∏ô rec
                 if (!activitiesByTime[rec.time]) activitiesByTime[rec.time] = { day1: null, day2: null, day3: null };
                 activitiesByTime[rec.time][`day${rec.dayIndex+1}`] = rec; // dayIndex ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 0, 1, 2
            });

             Object.keys(activitiesByTime).sort().forEach(time => {
                 const activities = activitiesByTime[time];
                 let tableRow = `<tr>`;
                 tableRow += `<td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${time}</td>`;
                 ['day1', 'day2', 'day3'].forEach((dayKey, dayIndex) => {
                     const activityDetail = activities[dayKey];
                     tableRow += `<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">`;
                     if (activityDetail) {
                         tableRow += `<div>${activityDetail.activity}</div>`;
                         tableRow += `<div class="mt-2"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</span></div>`;
                     } else {
                         // ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà "‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" ‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
                         tableRow += `<div class="mt-2"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-500">-</span></div>`;
                     }
                     tableRow += `</td>`;
                 });
                 tableRow += `</tr>`;
                 tableBody.innerHTML += tableRow;
             });

        } else {
            tableBody.innerHTML = `<tr><td colspan="4" class="text-center py-10 text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${gradeThai}</td></tr>`;
        }
    }


    const createPrintContentForActivity = (details) => { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ };
    async function printGradeReport() { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° ... */ }
</script>
</body>
</html>
