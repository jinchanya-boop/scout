<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 50%, #ddd6fe 100%); }
        .card-shadow { box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1); }
        .btn-primary { background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%); transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3); }
        .signature-pad { border: 2px dashed #c4b5fd; background: #faf5ff; }
        .rubric-item { background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); }
        .modal-overlay { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
        .file-input-label { cursor: pointer; background-color: #f3e8ff; border: 2px dashed #c4b5fd; }
        .file-input-label:hover { background-color: #e9d5ff; }
        .image-preview { width: 100%; height: 150px; object-fit: cover; border: 1px solid #ddd6fe; }

        /* --- ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ --- */
        .grade-tab-btn-active {
             background: linear-gradient(135deg, #059669, #10b981); /* Green Gradient */
             color: white;
             font-weight: 600;
             box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.2), 0 2px 4px -1px rgba(16, 185, 129, 0.1);
        }
        .grade-tab-btn-inactive {
            background-color: #f3f4f6; /* gray-100 */
            color: #374151; /* gray-700 */
        }
        .grade-tab-btn-inactive:hover {
             background-color: #e5e7eb; /* gray-200 */
        }

        .term-tab-active {
            border-bottom: 3px solid #6366f1; /* indigo-500 */
            color: #6366f1;
            font-weight: 600;
        }
        .term-tab-inactive {
            color: #6b7280; /* gray-500 */
            border-bottom: 3px solid transparent;
        }
        .term-tab-inactive:hover {
            color: #111827; /* gray-900 */
            border-bottom-color: #d1d5db; /* gray-300 */
        }
        /* ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
        .schedule-grade-content, .schedule-term-content { display: none; }
        .active-schedule-grade, .active-schedule-term { display: block; }
        .grid-schedule-term { display: grid; } /* Ensure grid layout when active */


        /* START: FINAL PRINT STYLES */
        @media print { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô print ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ... */ }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <header class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50">
        </header>

    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8">
            <button onclick="openStudentManagement()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üë•</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3><p class="text-sm text-gray-600">‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</p></div></div>
             </button>
             <button onclick="openAttendanceCheck()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">‚úÖ</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h3><p class="text-sm text-gray-600">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
             </button>
             <button onclick="openActivityStatusDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-indigo-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìë</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå</p></div></div>
             </button>
             <button onclick="openDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-blue-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìà</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h3><p class="text-sm text-gray-600">‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</p></div></div>
             </button>
             <button onclick="showActivityReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-green-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìä</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p></div></div>
             </button>
             <button onclick="showAttendanceReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-yellow-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìã</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</h3><p class="text-sm text-gray-600">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
             </button>
        </div>

        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow mb-8 overflow-hidden">
             <div class="bg-gray-50 p-3 flex flex-wrap gap-2 justify-center border-b border-gray-200">
                <button onclick="showScheduleGrade('m1')" id="schedule-tab-m1" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-active">
                    üìö ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢
                </button>
                <button onclick="showScheduleGrade('m2')" id="schedule-tab-m2" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üéØ ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞
                </button>
                <button onclick="showScheduleGrade('m3')" id="schedule-tab-m3" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üëë ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥
                </button>
            </div>

            <div id="schedule-content-area" class="p-6">

                <div id="schedule-grade-m1" class="schedule-grade-content active-schedule-grade">
                     <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üìö</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m1', 1)" id="schedule-m1-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m1', 2)" id="schedule-m1-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m1-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üåç</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                    <div class="flex items-start"><span class="mr-2 mt-1">üìú</span><span>‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)</span></div>
                                    <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üéñÔ∏è</span><span>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üö∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üõ∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üéí</span><span>‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span><span>‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üî•</span><span>‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üß≠</span><span>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü™¢</span><span>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü©π</span><span>‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m1-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏π‡πà)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏π‡πà)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚≠ê</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                  <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span><span>‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡∏° ‡∏ü‡πâ‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡∏° ‡∏ü‡πâ‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üå≥</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏õ‡πà‡∏≤</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏õ‡πà‡∏≤', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üîÑ</span><span>‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                </div>

                <div id="schedule-grade-m2" class="schedule-grade-content">
                     <div class="bg-gradient-to-r from-green-600 to-green-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üéØ</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m2', 1)" id="schedule-m2-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m2', 2)" id="schedule-m2-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m2-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span><span>‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üåø</span><span>‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span><span>‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üé®</span><span>‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üí°</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m2-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏™‡∏≤‡∏¢‡∏¢‡∏®)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏™‡∏≤‡∏¢‡∏¢‡∏®)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üé≠</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèÉ</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏Å‡∏£‡∏µ‡∏ë‡∏≤ (‡∏ß‡∏¥‡πà‡∏á/‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏Å‡∏£‡∏µ‡∏ë‡∏≤ (‡∏ß‡∏¥‡πà‡∏á/‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span>
                             <ul class="space-y-3 text-sm">
                                  <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡πÅ‡∏£‡∏°‡∏Ñ‡∏∑‡∏ô, ‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡πÅ‡∏£‡∏°‡∏Ñ‡∏∑‡∏ô, ‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üßó</span><span>‡∏Å‡∏≤‡∏£‡πÑ‡∏ï‡πà‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÑ‡∏ï‡πà‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üß≠</span><span>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏û‡∏¥‡∏Å‡∏±‡∏î)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏û‡∏¥‡∏Å‡∏±‡∏î)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üî≠</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üçÉ</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô)</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üë£</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏Å‡∏î‡∏£‡∏≠‡∏¢</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏Å‡∏î‡∏£‡∏≠‡∏¢', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                </div>

                <div id="schedule-grade-m3" class="schedule-grade-content">
                    <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 rounded-lg mb-4">
                         <h2 class="text-xl font-bold flex items-center">
                             <span class="bg-white/20 p-2 rounded-lg mr-3">üëë</span>
                             ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
                         </h2>
                     </div>
                     <div class="border-b border-gray-200 mb-6">
                         <nav class="flex justify-center gap-6 -mb-px">
                             <button onclick="showScheduleTerm('m3', 1)" id="schedule-m3-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button>
                             <button onclick="showScheduleTerm('m3', 2)" id="schedule-m3-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button>
                         </nav>
                     </div>
                     <div id="schedule-m3-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üåø</span><span>‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üëë</span><span>‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span><span>‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üö∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üé®</span><span>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span><span>‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üí°</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                     <div id="schedule-m3-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5">
                             <span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ú‡∏π‡πâ‡∏ô‡∏≥)</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üëë</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥*', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üõ†Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å*', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5">
                             <span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ó‡∏±‡∏Å‡∏©‡∏∞)</span>
                             <ul class="space-y-3 text-sm">
                                  <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üì¶</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏•‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏•‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡πà‡∏≤‡∏°*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡πà‡∏≤‡∏°*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5">
                             <span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå)</span>
                             <ul class="space-y-3 text-sm">
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üå≥</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥*</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥*', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                                 <li class="flex items-start justify-between">
                                     <div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</span></div>
                                     <button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                                 </li>
                             </ul>
                         </div>
                     </div>
                </div>

            </div> </div>
        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow p-6 mb-8">
            <div class="flex items-center mb-6"><span class="text-2xl mr-3">üîÑ</span><h2 class="text-2xl font-bold text-gray-800">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ê‡∏≤‡∏ô (Station Rotation)</h2></div>
             <div class="space-y-6">
                 <div>
                     <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á</h3>
                     <p class="text-gray-700">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 4 ‡∏Å‡∏≠‡∏á (Troops) ‡πÇ‡∏î‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏≠‡∏á‡∏à‡∏∞‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏° 4 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ (Stations) ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 4 ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (Time Slots) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ</p>
                     <ul class="list-disc list-inside text-gray-700 mt-3 space-y-1">
                         <li><strong>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô:</strong> 1 ‡∏Å‡∏≠‡∏á (Troop) (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 1 ‡∏´‡∏°‡∏π‡πà)</li>
                         <li><strong>‡∏°.1 (4 ‡∏Å‡∏≠‡∏á x 4 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                         <li><strong>‡∏°.2 (4 ‡∏Å‡∏≠‡∏á x 4 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                         <li><strong>‡∏°.3 (4 ‡∏Å‡∏≠‡∏á x 3 ‡∏´‡∏°‡∏π‡πà):</strong> ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô ‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 1-4 ‡∏à‡∏∞‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÑ‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</li>
                     </ul>
                 </div>
                 <div class="overflow-x-auto">
                     <h3 class="text-xl font-semibold text-gray-800 mb-3">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏ê‡∏≤‡∏ô (4x4)</h3>
                     <table class="w-full min-w-lg text-left border-collapse">
                         <thead class="bg-gray-100">
                             <tr>
                                 <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200">‡πÄ‡∏ß‡∏•‡∏≤ / ‡∏Å‡∏≠‡∏á</th>
                                 <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-blue-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 1</th>
                                 <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-green-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 2</th>
                                 <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-amber-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 3</th>
                                 <th class="py-3 px-4 font-semibold text-gray-700 border border-gray-200 text-center bg-rose-50">‡∏Å‡∏≠‡∏á‡∏ó‡∏µ‡πà 4</th>
                             </tr>
                         </thead>
                         <tbody>
                             <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 1 (09:00-10:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td></tr>
                             <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 2 (10:00-11:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td></tr>
                             <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 3 (13:00-14:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td></tr>
                             <tr class="hover:bg-gray-50"><td class="py-3 px-4 font-medium text-gray-600 border border-gray-200">‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà 4 (14:00-15:00)</td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-green-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ B</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-amber-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ C</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-rose-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ D</span></td><td class="py-3 px-4 border border-gray-200 text-center"><span class="font-bold text-blue-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ A</span></td></tr>
                         </tbody>
                     </table>
                 </div>
            </div>
        </div>

    </main>

    <div id="studentManagementModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
         </div>
     <div id="attendanceModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
          </div>
     <div id="activityModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
          </div>
      <div id="dashboardModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
           </div>
     <div id="activityStatusModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
            </div>
     <div id="printArea" class="hidden font-sans"></div>


<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 50%, #ddd6fe 100%); }
        .card-shadow { box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1); }
        .btn-primary { background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%); transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3); }
        .signature-pad { border: 2px dashed #c4b5fd; background: #faf5ff; }
        .rubric-item { background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); }
        .modal-overlay { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
        .file-input-label { cursor: pointer; background-color: #f3e8ff; border: 2px dashed #c4b5fd; }
        .file-input-label:hover { background-color: #e9d5ff; }
        .image-preview { width: 100%; height: 150px; object-fit: cover; border: 1px solid #ddd6fe; }
        .grade-tab-btn-active { background: linear-gradient(135deg, #059669, #10b981); color: white; font-weight: 600; box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.2), 0 2px 4px -1px rgba(16, 185, 129, 0.1); }
        .grade-tab-btn-inactive { background-color: #f3f4f6; color: #374151; }
        .grade-tab-btn-inactive:hover { background-color: #e5e7eb; }
        .term-tab-active { border-bottom: 3px solid #6366f1; color: #6366f1; font-weight: 600; }
        .term-tab-inactive { color: #6b7280; border-bottom: 3px solid transparent; }
        .term-tab-inactive:hover { color: #111827; border-bottom-color: #d1d5db; }
        .schedule-grade-content, .schedule-term-content { display: none; }
        .active-schedule-grade, .active-schedule-term { display: block; }
        .grid-schedule-term { display: grid; }
        @media print { /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô print ... */ }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <header class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50">
         <div class="container mx-auto px-4 py-4">
             <div class="flex items-center justify-between">
                 <div class="flex items-center space-x-3">
                     <img src="https://img2.pic.in.th/pic/sa1.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤" class="w-12 h-12 rounded-full object-cover">
                     <div>
                         <h1 class="text-xl font-bold text-gray-800">‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ - ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</h1>
                         <p class="text-sm text-purple-600"> ‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠ ‡∏°.1-‡∏°.3</p>
                     </div>
                 </div>
                 </div>
         </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8">
             <button onclick="openStudentManagement()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üë•</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3><p class="text-sm text-gray-600">‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</p></div></div>
             </button>
             <button onclick="openAttendanceCheck()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-purple-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">‚úÖ</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h3><p class="text-sm text-gray-600">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
             </button>
             <button onclick="openActivityStatusDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-indigo-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìë</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå</p></div></div>
             </button>
             <button onclick="openDashboard()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-blue-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìà</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h3><p class="text-sm text-gray-600">‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</p></div></div>
             </button>
             <button onclick="showActivityReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-green-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìä</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3><p class="text-sm text-gray-600">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p></div></div>
             </button>
             <button onclick="showAttendanceReport()" class="bg-white/90 backdrop-blur-md rounded-xl card-shadow p-4 hover:bg-yellow-50 transition-colors">
                 <div class="flex items-center space-x-3"><span class="text-2xl">üìã</span><div class="text-left"><h3 class="font-semibold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</h3><p class="text-sm text-gray-600">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p></div></div>
             </button>
        </div>

        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow mb-8 overflow-hidden">
             <div class="bg-gray-50 p-3 flex flex-wrap gap-2 justify-center border-b border-gray-200">
                <button onclick="showScheduleGrade('m1')" id="schedule-tab-m1" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-active">
                    üìö ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢
                </button>
                <button onclick="showScheduleGrade('m2')" id="schedule-tab-m2" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üéØ ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞
                </button>
                <button onclick="showScheduleGrade('m3')" id="schedule-tab-m3" class="grade-tab-btn flex-1 min-w-0 px-4 py-3 rounded-lg font-medium transition-all duration-300 grade-tab-btn-inactive">
                    üëë ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥
                </button>
            </div>

            <div id="schedule-content-area" class="p-6">
                <div id="schedule-grade-m1" class="schedule-grade-content active-schedule-grade">
                    <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg mb-4"><h2 class="text-xl font-bold flex items-center"><span class="bg-white/20 p-2 rounded-lg mr-3">üìö</span>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.1 - ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏Å‡∏©‡∏∞</h2></div>
                     <div class="border-b border-gray-200 mb-6"><nav class="flex justify-center gap-6 -mb-px"><button onclick="showScheduleTerm('m1', 1)" id="schedule-m1-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button><button onclick="showScheduleTerm('m1', 2)" id="schedule-m1-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button></nav></div>
                     <div id="schedule-m1-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üåç</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üìú</span><span>‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üéñÔ∏è</span><span>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üö∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üõ∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üéí</span><span>‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span><span>‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üî•</span><span>‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üß≠</span><span>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü™¢</span><span>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü©π</span><span>‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                     <div id="schedule-m1-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏π‡πà)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏°‡∏π‡πà)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚≠ê</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span><span>‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°, ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèïÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏Å‡πÅ‡∏£‡∏°', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡∏° ‡∏ü‡πâ‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡∏° ‡∏ü‡πâ‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üå≥</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏õ‡πà‡∏≤</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏õ‡πà‡∏≤', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üîÑ</span><span>‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                </div>

                <div id="schedule-grade-m2" class="schedule-grade-content">
                    <div class="bg-gradient-to-r from-green-600 to-green-700 text-white p-4 rounded-lg mb-4"><h2 class="text-xl font-bold flex items-center"><span class="bg-white/20 p-2 rounded-lg mr-3">üéØ</span>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.2 - ‡∏à‡∏¥‡∏ï‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à</h2></div>
                     <div class="border-b border-gray-200 mb-6"><nav class="flex justify-center gap-6 -mb-px"><button onclick="showScheduleTerm('m2', 1)" id="schedule-m2-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button><button onclick="showScheduleTerm('m2', 2)" id="schedule-m2-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button></nav></div>
                     <div id="schedule-m2-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span><span>‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üåø</span><span>‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span><span>‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üé®</span><span>‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üí°</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚ú®</span><span>‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                     <div id="schedule-m2-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏¢</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏™‡∏≤‡∏¢‡∏¢‡∏®)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏™‡∏≤‡∏¢‡∏¢‡∏®)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üé≠</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèÉ</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏Å‡∏£‡∏µ‡∏ë‡∏≤ (‡∏ß‡∏¥‡πà‡∏á/‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏Å‡∏£‡∏µ‡∏ë‡∏≤ (‡∏ß‡∏¥‡πà‡∏á/‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏™‡∏π‡∏á)', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèûÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡πÅ‡∏£‡∏°‡∏Ñ‡∏∑‡∏ô, ‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡πÅ‡∏£‡∏°‡∏Ñ‡∏∑‡∏ô, ‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üßó</span><span>‡∏Å‡∏≤‡∏£‡πÑ‡∏ï‡πà‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÑ‡∏ï‡πà‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å, ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üß≠</span><span>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏û‡∏¥‡∏Å‡∏±‡∏î)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏û‡∏¥‡∏Å‡∏±‡∏î)', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üî≠</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üçÉ</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô)</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ (‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô)', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üë£</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏Å‡∏î‡∏£‡∏≠‡∏¢</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏™‡∏∞‡∏Å‡∏î‡∏£‡∏≠‡∏¢', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                </div>

                <div id="schedule-grade-m3" class="schedule-grade-content">
                    <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 rounded-lg mb-4"><h2 class="text-xl font-bold flex items-center"><span class="bg-white/20 p-2 rounded-lg mr-3">üëë</span>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏°.3 - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2></div>
                     <div class="border-b border-gray-200 mb-6"><nav class="flex justify-center gap-6 -mb-px"><button onclick="showScheduleTerm('m3', 1)" id="schedule-m3-tab-1" class="schedule-term-tab term-tab-active py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 1</button><button onclick="showScheduleTerm('m3', 2)" id="schedule-m3-tab-2" class="schedule-term-tab term-tab-inactive py-3 px-1 text-center text-sm">‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2</button></nav></div>
                     <div id="schedule-m3-term-1" class="schedule-term-content active-schedule-term grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üåø</span><span>‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üëë</span><span>‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üó∫Ô∏è</span><span>‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèãÔ∏è</span><span>‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üö∂</span><span>‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∏‡∏õ</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üé®</span><span>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚ù§Ô∏è</span><span>‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üí°</span><span>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                     <div id="schedule-m3-term-2" class="schedule-term-content grid-schedule-term md:grid-cols-3 gap-6">
                         <div class="bg-rose-50 border border-rose-200 rounded-lg p-5"><span class="inline-block bg-rose-200 text-rose-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ú‡∏π‡πâ‡∏ô‡∏≥)</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">ü§ù</span><span>‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üèõÔ∏è</span><span>‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üëë</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥*', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üõ†Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å*', 1)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-amber-50 border border-amber-200 rounded-lg p-5"><span class="inline-block bg-amber-200 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ó‡∏±‡∏Å‡∏©‡∏∞)</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">‚òÄÔ∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üì¶</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏•‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏•‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üó£Ô∏è</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡πà‡∏≤‡∏°*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2','‡∏ß‡∏¥‡∏ä‡∏≤‡∏•‡πà‡∏≤‡∏°*', 2)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                         <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-5"><span class="inline-block bg-emerald-200 text-emerald-800 text-sm font-medium px-3 py-1 rounded-full mb-3">‚òÄÔ∏è ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 : ‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå)</span><ul class="space-y-3 text-sm"><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üå≥</span><span>‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥*</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥*', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li><li class="flex items-start justify-between"><div class="flex items-start"><span class="mr-2 mt-1">üìù</span><span>‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ</span></div><button onclick="openActivityModal('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3','‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ', 3)" class="ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded-full hover:bg-purple-600 flex-shrink-0">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></li></ul></div>
                     </div>
                </div>

            </div> </div>
        <div class="bg-white/90 backdrop-blur-md rounded-2xl card-shadow p-6 mb-8">
            </div>

    </main>

    <div id="studentManagementModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        </div>
    <div id="attendanceModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        </div>
    <div id="activityModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üìù</span><h3 class="text-xl font-bold">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3></div><button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div></div>
            <div class="p-6">
                <form id="activityForm">
                    <div class="mb-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div><label class="block text-sm font-medium mb-2">üïê ‡πÄ‡∏ß‡∏•‡∏≤</label><input type="text" id="activityTime" class="w-full px-4 py-2 rounded-lg border" readonly></div>
                        <div><label class="block text-sm font-medium mb-2">üìã ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label><input type="text" id="activityName" class="w-full px-4 py-2 rounded-lg border" readonly></div>
                    </div></div>
                    <div class="mb-6"><label class="block text-sm font-medium mb-2">üë• ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô, ‡∏Å‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà</label><div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"><div><label class="block text-xs mb-1">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</label><select id="activityGrade" onchange="loadStudentList()" class="w-full px-3 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div><div><label class="block text-xs mb-1">‡∏Å‡∏≠‡∏á</label><select id="selectedGroup" onchange="updateActivityTroopOptions()" class="w-full px-3 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á</option><option value="‡∏Å‡∏≠‡∏á1">‡∏Å‡∏≠‡∏á 1</option><option value="‡∏Å‡∏≠‡∏á2">‡∏Å‡∏≠‡∏á 2</option><option value="‡∏Å‡∏≠‡∏á3">‡∏Å‡∏≠‡∏á 3</option><option value="‡∏Å‡∏≠‡∏á4">‡∏Å‡∏≠‡∏á 4</option></select></div><div><label class="block text-xs mb-1">‡∏´‡∏°‡∏π‡πà</label><select id="selectedTroop" onchange="loadStudentList()" class="w-full px-3 py-2 rounded-lg border" disabled><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà</option></select></div></div><div id="studentAttendanceList" class="hidden"><div class="bg-purple-50 rounded-lg p-4"><h4 class="font-medium mb-3 flex items-center"><span class="mr-2">üìã</span>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</h4><div id="studentCheckList" class="space-y-2"></div></div></div></div><div id="attendanceSummary" class="mt-4 p-4 bg-gray-100 rounded-lg hidden"><h5 class="font-semibold mb-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠:</h5><div class="flex flex-wrap gap-x-6 gap-y-2 text-sm"><span class="font-medium">‚úÖ ‡∏°‡∏≤: <span id="summaryPresent" class="text-green-600 font-bold">0</span></span><span class="font-medium">üìã ‡∏•‡∏≤: <span id="summaryLeave" class="text-yellow-600 font-bold">0</span></span><span class="font-medium">‚ùå ‡∏Ç‡∏≤‡∏î: <span id="summaryAbsent" class="text-red-600 font-bold">0</span></span><span class="font-medium">üèÉ ‡∏´‡∏ô‡∏µ: <span id="summarySkipped" class="text-orange-600 font-bold">0</span></span></div></div>
                     <div class="mb-6 mt-6"><h4 class="text-lg font-semibold mb-4 flex items-center"><span class="mr-2">üì∏</span>‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (2 ‡∏†‡∏≤‡∏û)</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="activityPhoto1" class="file-input-label p-4 rounded-lg flex flex-col items-center justify-center text-center"><span class="text-3xl">üñºÔ∏è</span><span class="mt-2 text-sm font-medium text-purple-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 1</span><span class="text-xs text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</span></label><input type="file" id="activityPhoto1" class="hidden" accept="image/*" onchange="previewImage('activityPhoto1', 'photoPreview1')"><img id="photoPreview1" class="mt-2 rounded-lg image-preview hidden" alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 1"></div><div><label for="activityPhoto2" class="file-input-label p-4 rounded-lg flex flex-col items-center justify-center text-center"><span class="text-3xl">üñºÔ∏è</span><span class="mt-2 text-sm font-medium text-purple-700">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2</span><span class="text-xs text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</span></label><input type="file" id="activityPhoto2" class="hidden" accept="image/*" onchange="previewImage('activityPhoto2', 'photoPreview2')"><img id="photoPreview2" class="mt-2 rounded-lg image-preview hidden" alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2"></div></div></div>
                     <div class="mb-6 mt-6"><h4 class="text-lg font-semibold mb-4 flex items-center"><span class="mr-2">‚≠ê</span>‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h4><div class="space-y-3" id="rubricItems"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"><div><label class="block text-sm font-medium mb-2">üéØ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</label><input type="number" id="totalScore" min="0" max="100" class="w-full px-4 py-2 rounded-lg border" placeholder="0-100"></div><div><label class="block text-sm font-medium mb-2">üìä ‡∏£‡∏∞‡∏î‡∏±‡∏ö</label><select id="gradeLevel" class="w-full px-4 py-2 rounded-lg border"><option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</option><option value="‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°">‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° (90-100)</option><option value="‡∏î‡∏µ‡∏°‡∏≤‡∏Å">‡∏î‡∏µ‡∏°‡∏≤‡∏Å (80-89)</option><option value="‡∏î‡∏µ">‡∏î‡∏µ (70-79)</option><option value="‡∏û‡∏≠‡πÉ‡∏ä‡πâ">‡∏û‡∏≠‡πÉ‡∏ä‡πâ (60-69)</option><option value="‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á">‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (<60)</option></select></div></div><div class="mb-6"><label class="block text-sm font-medium mb-2">üí¨ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô/‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ó‡πå</label><textarea id="comments" rows="4" class="w-full px-4 py-2 rounded-lg border" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô..."></textarea></div><div class="mb-6"><label class="block text-sm font-medium mb-2">üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö</label><textarea id="notes" rows="3" class="w-full px-4 py-2 rounded-lg border" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea></div><div class="mb-6"><label class="block text-sm font-medium mb-2">‚úçÔ∏è ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö</label><div class="signature-pad rounded-lg p-4 text-center"><canvas id="signatureCanvas" width="300" height="100" class="border-2 border-dashed rounded-lg mx-auto cursor-crosshair"></canvas><div class="mt-2 space-x-2"><button type="button" onclick="clearSignature()" class="text-sm text-purple-600 hover:text-purple-800">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô</button></div></div></div><div class="flex justify-end space-x-3"><button type="button" onclick="closeModal()" class="px-6 py-2 border rounded-lg">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button><button type="submit" class="px-6 py-2 btn-primary text-white rounded-lg font-medium">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button></div>
                </form>
            </div>
        </div>
    </div>
    <div id="dashboardModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b sticky top-0 bg-white/80 backdrop-blur-md"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üìà</span><h3 class="text-xl font-bold">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h3></div><button onclick="closeDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div><div class="mt-4"><label for="dashboardGradeFilter" class="text-sm font-medium">‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô:</label><select id="dashboardGradeFilter" onchange="renderDashboardCharts()" class="mt-1 w-full md:w-auto px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500"><option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option><option value="‡∏°.1">‡∏°.1</option><option value="‡∏°.2">‡∏°.2</option><option value="‡∏°.3">‡∏°.3</option></select></div></div>
            <div class="p-6 space-y-8"><div><h4 class="text-lg font-semibold mb-4">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ (‡∏£‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</h4><div class="p-4 bg-gray-50 rounded-lg"><canvas id="attendanceChart"></canvas></div></div><div><h4 class="text-lg font-semibold mb-4">‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</h4><div class="p-4 bg-gray-50 rounded-lg"><canvas id="scoreChart"></canvas></div></div></div>
        </div>
    </div>
    <div id="activityStatusModal" class="fixed inset-0 modal-overlay hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] flex flex-col">
            <div class="p-6 border-b"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><span class="text-2xl">üìë</span><h3 class="text-xl font-bold">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3></div><button onclick="closeActivityStatusDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button></div></div>
            <div class="p-6 flex-grow overflow-y-auto">
                <div class="border-b border-gray-200 mb-4"><nav id="statusTabs" class="flex space-x-4" aria-label="Tabs"><a href="#" onclick="renderActivityStatusTable('m1'); setActiveTab(this); return false;" class="status-tab text-purple-600 border-purple-600 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1</a><a href="#" onclick="renderActivityStatusTable('m2'); setActiveTab(this); return false;" class="status-tab text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2</a><a href="#" onclick="renderActivityStatusTable('m3'); setActiveTab(this); return false;" class="status-tab text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm">‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3</a></nav></div>
                <div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡πÄ‡∏ß‡∏•‡∏≤</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°</th></tr></thead><tbody id="activityStatusTableBody" class="bg-white divide-y divide-gray-200"></tbody></table></div>
            </div>
            <div class="p-4 border-t bg-gray-50 text-right"><button id="printGradeReportBtn" onclick="printGradeReport()" class="px-6 py-2 btn-primary text-white rounded-lg font-medium">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ</button></div>
        </div>
    </div>
    <div id="printArea" class="hidden font-sans"></div>

<script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyhidTjPGC6HvQ0Jmv7eIR4IVYKdDqI7nES5Ovexyj-m9QriFYa9Mm9AYBoJr5-Sgzw/exec';

    let studentData = {};
    let editingStudent = null;
    let canvas, ctx, isDrawing = false;
    let attendanceSummaryData = null;
    let activitySummaryData = null;
    let attendanceChartInstance = null;
    let scoreChartInstance = null;
    let recordedActivitiesData = null;
    let currentStatusGrade = 'm1';

    const rubricCriteria = {
        default:[{criteria:"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",maxScore:25},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡πÉ‡∏ô‡∏ó‡∏µ‡∏°",maxScore:25},{criteria:"‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö",maxScore:25},{criteria:"‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö",maxScore:25}],
        skill:[{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ",maxScore:30},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥",maxScore:25},{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á",maxScore:20}],
        leadership:[{criteria:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥",maxScore:30},{criteria:"‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à",maxScore:25},{criteria:"‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",maxScore:20}]
    };

    document.addEventListener('DOMContentLoaded', function () {
        fetchStudents();
        showScheduleGrade('m1'); // ‡πÅ‡∏™‡∏î‡∏á ‡∏°.1 ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

        // ‚ú® Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Activity Form (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) ‚ú®
        const activityForm = document.getElementById('activityForm');
        if (activityForm) {
             activityForm.addEventListener('submit', (e) => {
                 e.preventDefault();
                 saveActivityRecord();
             });
        } else {
            console.error("Activity form not found on DOMContentLoaded!");
        }
    });

    async function fetchStudents() {
        try {
            const response = await fetch(SCRIPT_URL + '?action=getStudents');
            if (!response.ok) throw new Error('Network response was not ok');
            studentData = await response.json();
            console.log('Student data loaded successfully:', studentData);
        } catch (error) {
            console.error('Failed to fetch students:', error);
            Swal.fire({icon: 'error', title: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏£‡∏∑‡∏≠ Google Apps Script', confirmButtonColor: '#8b5cf6'});
        } finally { /* No final action needed here anymore */ }
    }

    // ‚ú® ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ ‚ú®
    function showScheduleGrade(gradeId) {
        document.querySelectorAll('.schedule-grade-content').forEach(content => { content.style.display = 'none'; });
        const gradeElement = document.getElementById(`schedule-grade-${gradeId}`);
        if (gradeElement) gradeElement.style.display = 'block'; else console.error(`Element not found: schedule-grade-${gradeId}`);

        document.querySelectorAll('.grade-tab-btn').forEach(tab => { tab.classList.remove('grade-tab-btn-active'); tab.classList.add('grade-tab-btn-inactive'); });
        const tabElement = document.getElementById(`schedule-tab-${gradeId}`);
        if(tabElement) { tabElement.classList.add('grade-tab-btn-active'); tabElement.classList.remove('grade-tab-btn-inactive'); } else console.error(`Element not found: schedule-tab-${gradeId}`);

        showScheduleTerm(gradeId, 1);
    }
    function showScheduleTerm(gradeId, term) {
        document.querySelectorAll(`#schedule-grade-${gradeId} .schedule-term-content`).forEach(content => { content.style.display = 'none'; content.classList.remove('grid-schedule-term'); });
        const termContent = document.getElementById(`schedule-${gradeId}-term-${term}`);
        // Add check before accessing style/classList
        if (termContent) {
             termContent.style.display = 'grid';
             termContent.classList.add('grid-schedule-term');
        } else {
             console.error(`Element not found: schedule-${gradeId}-term-${term}`);
        }

        document.querySelectorAll(`#schedule-grade-${gradeId} .schedule-term-tab`).forEach(tab => { tab.classList.remove('term-tab-active'); tab.classList.add('term-tab-inactive'); });
        const termTabElement = document.getElementById(`schedule-${gradeId}-tab-${term}`);
        if (termTabElement) {
             termTabElement.classList.add('term-tab-active');
             termTabElement.classList.remove('term-tab-inactive');
        } else {
             console.error(`Element not found: schedule-${gradeId}-tab-${term}`);
        }
    }

    // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô) ---
    async function postData(payload) { try { const response = await fetch(SCRIPT_URL, {method: 'POST', mode: 'cors', headers: {'Content-Type': 'text/plain;charset=utf-8'}, body: JSON.stringify(payload)}); if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); const result = await response.json(); if (result.status !== 'success') throw new Error(result.message || 'Unknown error'); return result; } catch (error) { console.error('Error posting data:', error); throw error; } }
    function openDashboard(){ const modal = document.getElementById('dashboardModal'); if(modal) modal.classList.remove('hidden'); else console.error("Dashboard modal not found"); if(!attendanceSummaryData||!activitySummaryData){loadDashboardData();}else{renderDashboardCharts();}}
    function closeDashboard(){ const modal = document.getElementById('dashboardModal'); if(modal) modal.classList.add('hidden'); }
    async function loadDashboardData(){Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',allowOutsideClick:false,didOpen:()=>Swal.showLoading()});try{const[attendanceRes,activityRes]=await Promise.all([fetch(SCRIPT_URL+'?action=getAttendanceSummary'),fetch(SCRIPT_URL+'?action=getActivitySummary')]);if(!attendanceRes.ok||!activityRes.ok){throw new Error('Could not load summary data');} attendanceSummaryData=await attendanceRes.json();activitySummaryData=await activityRes.json();renderDashboardCharts();Swal.close();}catch(error){console.error('Failed to load dashboard data:',error);Swal.fire({icon:'error',title:'‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',text:'‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÑ‡∏î‡πâ'});}}
    function renderDashboardCharts(){ if(!attendanceSummaryData||!activitySummaryData){console.error("Dashboard data not ready"); return;} const gradeFilter = document.getElementById('dashboardGradeFilter'); if (!gradeFilter) { console.error("dashboardGradeFilter element not found!"); return; } const gradeFilterValue=gradeFilter.value; const gradeMapping={"‡∏°.1":"‡∏°.1","‡∏°.2":"‡∏°.2","‡∏°.3":"‡∏°.3","all":"all"}; const selectedGrade=gradeMapping[gradeFilterValue]; const attendanceLabels=[];const attendanceData={present:[],leave:[],absent:[],skipped:[]}; for(const gradeKey in attendanceSummaryData){if(selectedGrade!=='all'&&gradeKey!==selectedGrade)continue; for(const group in attendanceSummaryData[gradeKey]){for(const troop in attendanceSummaryData[gradeKey][group]){const troopData=attendanceSummaryData[gradeKey][group][troop]; const label=`${gradeKey}/${group}/${troop}`; attendanceLabels.push(label); attendanceData.present.push(troopData['‡∏°‡∏≤']||0); attendanceData.leave.push(troopData['‡∏•‡∏≤']||0); attendanceData.absent.push(troopData['‡∏Ç‡∏≤‡∏î']||0); attendanceData.skipped.push(troopData['‡∏´‡∏ô‡∏µ']||0);}}} const scoreLabels=[];const scoreData=[]; for(const gradeKey in activitySummaryData){if(selectedGrade!=='all'&&gradeKey!==selectedGrade)continue; for(const group in activitySummaryData[gradeKey].groups){for(const troop in activitySummaryData[gradeKey].groups[group].troops){const troopData=activitySummaryData[gradeKey].groups[group].troops[troop]; const label=`${gradeKey}/${group}/${troop}`; const avgScore=troopData.count>0?(troopData.totalScore/troopData.count).toFixed(2):0; scoreLabels.push(label); scoreData.push(avgScore);}}} if(attendanceChartInstance)attendanceChartInstance.destroy(); if(scoreChartInstance)scoreChartInstance.destroy(); const attendanceCtx=document.getElementById('attendanceChart')?.getContext('2d'); const scoreCtx=document.getElementById('scoreChart')?.getContext('2d'); if (!attendanceCtx || !scoreCtx) { console.error("Chart canvas elements not found!"); return; } attendanceChartInstance=new Chart(attendanceCtx,{type:'bar',data:{labels:attendanceLabels,datasets:[{label:'‡∏°‡∏≤',data:attendanceData.present,backgroundColor:'#10B981'},{label:'‡∏•‡∏≤',data:attendanceData.leave,backgroundColor:'#F59E0B'},{label:'‡∏Ç‡∏≤‡∏î',data:attendanceData.absent,backgroundColor:'#EF4444'},{label:'‡∏´‡∏ô‡∏µ',data:attendanceData.skipped,backgroundColor:'#F97316'}]},options:{responsive:true,scales:{x:{stacked:true},y:{stacked:true,beginAtZero:true}},plugins:{title:{display:true,text:'‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ (‡∏£‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á)'},tooltip:{mode:'index'}}}}); scoreChartInstance=new Chart(scoreCtx,{type:'bar',data:{labels:scoreLabels,datasets:[{label:'‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢',data:scoreData,backgroundColor:'rgba(139, 92, 246, 0.6)',borderColor:'rgba(139, 92, 246, 1)',borderWidth:1}]},options:{responsive:true,scales:{y:{beginAtZero:true,max:100}},plugins:{title:{display:true,text:'‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà'}}}});}
    function loadManageStudentList(){const grade=document.getElementById('manageGrade')?.value;const group=document.getElementById('manageGroup')?.value;const troop=document.getElementById('manageTroop')?.value;const container=document.getElementById('manageStudentList'); if (!container) return; const students=studentData[grade]?.[group]?.[troop]||[]; if(grade&&group&&troop){let html=`<div class="bg-purple-50 rounded-lg p-4 mb-4"><h4 class="font-medium">${grade} / ${group} / ${troop} - (${students.length} ‡∏Ñ‡∏ô)</h4></div><div class="space-y-3">`;if(students.length>0){students.forEach((student,index)=>{html+=`<div class="flex items-center justify-between p-4 bg-white rounded-lg border"><div class="flex items-center space-x-4"><div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center"><span class="text-purple-600 font-medium">${index+1}</span></div><div><div class="font-medium">${student.firstName} ${student.lastName}</div><div class="text-sm text-gray-500">ID: ${student.id}</div></div></div><div class="flex space-x-2"><button onclick="editStudent('${grade}','${group}','${troop}',${index})" class="px-3 py-1 bg-blue-500 text-white text-sm rounded-lg">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button><button onclick="deleteStudent('${grade}','${group}','${troop}',${index})" class="px-3 py-1 bg-red-500 text-white text-sm rounded-lg">‡∏•‡∏ö</button></div></div>`;});}else{html+=`<p class="text-center text-gray-500">-- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --</p>`;} html+='</div>'; container.innerHTML=html;}else{container.innerHTML=`<div class="text-center text-gray-500 py-8"><span class="text-4xl block mb-2">üë•</span><p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô, ‡∏Å‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà</p></div>`;}}
    function showAddStudentForm(){const grade=document.getElementById('manageGrade')?.value;const group=document.getElementById('manageGroup')?.value;const troop=document.getElementById('manageTroop')?.value; if(!grade||!group||!troop){Swal.fire({icon:'warning',title:'‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö',text:'‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô, ‡∏Å‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô',confirmButtonColor:'#8b5cf6'}); return;} editingStudent=null; document.getElementById('formTitle').textContent=`‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (${grade}/${group}/${troop})`; document.getElementById('addStudentForm')?.reset(); document.getElementById('studentForm')?.classList.remove('hidden');}
    async function saveStudent(){const grade=document.getElementById('manageGrade')?.value;const group=document.getElementById('manageGroup')?.value;const troop=document.getElementById('manageTroop')?.value;const firstName=document.getElementById('studentFirstName')?.value.trim();const lastName=document.getElementById('studentLastName')?.value.trim();const studentId=document.getElementById('studentId')?.value.trim(); if (!firstName || !lastName || !studentId) { Swal.fire({icon:'error', title:'‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', text:'‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß'}); return; } const studentObj={id:studentId,firstName,lastName,grade,group,troop};const payload={type:'manageStudent',action:editingStudent?'edit':'add',student:studentObj,...(editingStudent&&{originalId:editingStudent.originalId})};Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...',willOpen:()=>Swal.showLoading(), allowOutsideClick: false}); try{await postData(payload);await fetchStudents();hideStudentForm();loadManageStudentList();Swal.fire({icon:'success',title:editingStudent?'‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à':'‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'});}catch(error){Swal.fire({icon:'error',title:'‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',text:'‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ: '+error.message});}}
    function editStudent(grade,group,troop,index){const student=studentData[grade]?.[group]?.[troop]?.[index]; if(!student) return; editingStudent={grade,group,troop,index,originalId:student.id}; document.getElementById('formTitle').textContent=`‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (${grade}/${group}/${troop})`; document.getElementById('studentFirstName').value=student.firstName; document.getElementById('studentLastName').value=student.lastName; document.getElementById('studentId').value=student.id; document.getElementById('studentForm')?.classList.remove('hidden');}
    function deleteStudent(grade,group,troop,index){const student=studentData[grade]?.[group]?.[troop]?.[index]; if(!student) return; Swal.fire({title:'‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö',text:`‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö ${student.firstName} ${student.lastName} ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`,icon:'warning',showCancelButton:true,confirmButtonText:'‡∏•‡∏ö',cancelButtonText:'‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'}).then(async(result)=>{if(result.isConfirmed){Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö...',willOpen:()=>Swal.showLoading(), allowOutsideClick: false}); try{await postData({type:'manageStudent',action:'delete',student:{id:student.id,grade,group,troop}});await fetchStudents();loadManageStudentList();Swal.fire({icon:'success',title:'‡∏•‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'});}catch(error){Swal.fire({icon:'error',title:'‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',text:'‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ: '+error.message});}}});}
    function loadAttendanceStudentList(){const grade=document.getElementById('attendanceGrade')?.value;const group=document.getElementById('attendanceGroup')?.value;const troop=document.getElementById('attendanceTroop')?.value;const container=document.getElementById('attendanceStudentList'); if (!container) return; const students=studentData[grade]?.[group]?.[troop]||[]; if(grade&&group&&troop){let html=`<div class="bg-purple-50 rounded-lg p-4 mb-4"><h4 class="font-medium">${grade} / ${group} / ${troop} - (${students.length} ‡∏Ñ‡∏ô)</h4></div><div class="space-y-3">`;if(students.length>0){students.forEach(student=>{html+=`<div class="flex items-center justify-between p-4 bg-white rounded-lg border"><div class="flex items-center space-x-3"><div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center"><span class="text-purple-600 font-medium">${student.firstName.charAt(0)}</span></div><div><div class="font-medium">${student.firstName} ${student.lastName}</div><div class="text-sm text-gray-500">ID: ${student.id}</div></div></div><div class="flex flex-wrap gap-x-3 gap-y-2"><label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="attendance_${student.id}" value="‡∏°‡∏≤" checked><span>‡∏°‡∏≤</span></label><label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="attendance_${student.id}" value="‡∏•‡∏≤"><span>‡∏•‡∏≤</span></label><label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="attendance_${student.id}" value="‡∏Ç‡∏≤‡∏î"><span>‡∏Ç‡∏≤‡∏î</span></label><label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="attendance_${student.id}" value="‡∏´‡∏ô‡∏µ"><span>‡∏´‡∏ô‡∏µ</span></label></div></div>`;});}else{html+=`<p class="text-center text-gray-500 py-4">-- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --</p>`;} html+='</div>'; container.innerHTML=html;}else{container.innerHTML=`<div class="text-center text-gray-500 py-8"><span class="text-4xl block mb-2">‚úÖ</span><p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà</p></div>`;}}
    async function saveAttendance(){const date=document.getElementById('attendanceDate')?.value;const activity=document.getElementById('attendanceActivity')?.value;const grade=document.getElementById('attendanceGrade')?.value;const group=document.getElementById('attendanceGroup')?.value;const troop=document.getElementById('attendanceTroop')?.value; if(!date||!activity||!grade||!group||!troop){Swal.fire({icon:'warning',title:'‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö',confirmButtonColor:'#8b5cf6'});return;} const students=studentData[grade]?.[group]?.[troop]||[]; if(students.length===0){Swal.fire({icon:'info',title:'‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ',confirmButtonColor:'#8b5cf6'});return;} const attendanceData=students.map(student=>({studentId:student.id,studentName:`${student.firstName} ${student.lastName}`,status:document.querySelector(`input[name="attendance_${student.id}"]:checked`)?.value||'‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}));const payload={type:'attendance',date,activity,grade,group,troop,attendanceData};Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...',willOpen:()=>Swal.showLoading(), allowOutsideClick: false}); try{await postData(payload);showSuccessMessage(payload,false);}catch(error){saveDataLocally(payload, 'offlineAttendance'); showSuccessMessage(payload,true); console.error('Failed to save attendance:',error);}}
    function loadStudentList(){const grade=document.getElementById('activityGrade')?.value;const group=document.getElementById('selectedGroup')?.value;const troop=document.getElementById('selectedTroop')?.value;const container=document.getElementById('studentCheckList'); const wrapper=document.getElementById('studentAttendanceList'); const summary=document.getElementById('attendanceSummary'); if (!container || !wrapper || !summary) return; const students=studentData[grade]?.[group]?.[troop]||[]; if(grade&&group&&troop){let html=''; if(students.length>0){students.forEach(student=>{html+=`<div class="flex items-center justify-between p-3 bg-white rounded-lg border"><div class="flex items-center space-x-3"><span class="font-medium">${student.firstName} ${student.lastName} (${student.id})</span></div><div class="flex space-x-2"><label class="flex items-center space-x-1 cursor-pointer"><input type="radio" onchange="updateAttendanceSummary()" name="activity_attendance_${student.id}" value="‡∏°‡∏≤" checked><span class="text-sm">‡∏°‡∏≤</span></label><label class="flex items-center space-x-1 cursor-pointer"><input type="radio" onchange="updateAttendanceSummary()" name="activity_attendance_${student.id}" value="‡∏•‡∏≤"><span class="text-sm">‡∏•‡∏≤</span></label><label class="flex items-center space-x-1 cursor-pointer"><input type="radio" onchange="updateAttendanceSummary()" name="activity_attendance_${student.id}" value="‡∏Ç‡∏≤‡∏î"><span class="text-sm">‡∏Ç‡∏≤‡∏î</span></label><label class="flex items-center space-x-1 cursor-pointer"><input type="radio" onchange="updateAttendanceSummary()" name="activity_attendance_${student.id}" value="‡∏´‡∏ô‡∏µ"><span class="text-sm">‡∏´‡∏ô‡∏µ</span></label></div></div>`;});}else{html=`<p class="text-center text-gray-500 py-2">-- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô --</p>`;} container.innerHTML=html; wrapper.classList.remove('hidden'); summary.classList.remove('hidden'); updateAttendanceSummary();}else{container.innerHTML=''; wrapper.classList.add('hidden'); summary.classList.add('hidden');}}
    function updateAttendanceSummary(){const container=document.getElementById('studentCheckList'); if(!container) return; const present=container.querySelectorAll('input[value="‡∏°‡∏≤"]:checked').length; const leave=container.querySelectorAll('input[value="‡∏•‡∏≤"]:checked').length; const absent=container.querySelectorAll('input[value="‡∏Ç‡∏≤‡∏î"]:checked').length; const skipped=container.querySelectorAll('input[value="‡∏´‡∏ô‡∏µ"]:checked').length; document.getElementById('summaryPresent').innerText=present; document.getElementById('summaryLeave').innerText=leave; document.getElementById('summaryAbsent').innerText=absent; document.getElementById('summarySkipped').innerText=skipped;}
    function previewImage(inputId, previewId) { const input = document.getElementById(inputId); const preview = document.getElementById(previewId); if (input?.files?.[0]) { const reader = new FileReader(); reader.onload = function(e) { if(preview) { preview.src = e.target.result; preview.classList.remove('hidden'); } } reader.readAsDataURL(input.files[0]); } else if (preview) { preview.classList.add('hidden'); preview.src=''; } }
    function resizeImage(file, maxWidth = 800, maxHeight = 800, quality = 0.8) { return new Promise((resolve, reject) => { const reader = new FileReader(); reader.readAsDataURL(file); reader.onload = (event) => { const img = new Image(); img.src = event.target.result; img.onload = () => { const canvas = document.createElement('canvas'); let width = img.width; let height = img.height; if (width > height) { if (width > maxWidth) { height *= maxWidth / width; width = maxWidth; } } else { if (height > maxHeight) { width *= maxHeight / height; height = maxHeight; } } canvas.width = width; canvas.height = height; const ctx = canvas.getContext('2d'); ctx.drawImage(img, 0, 0, width, height); resolve(canvas.toDataURL('image/jpeg', quality)); }; img.onerror = reject; }; reader.onerror = reject; }); }
    async function saveActivityRecord() { Swal.fire({ title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°', html: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡πà‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û...', allowOutsideClick: false, didOpen: () => { Swal.showLoading(); } }); const file1 = document.getElementById('activityPhoto1')?.files?.[0]; const file2 = document.getElementById('activityPhoto2')?.files?.[0]; let photo1_base64 = ''; let photo2_base64 = ''; try { if (file1) photo1_base64 = await resizeImage(file1); if (file2) photo2_base64 = await resizeImage(file2); } catch (error) { Swal.fire({ icon: 'error', title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ!' }); console.error("Image processing error:", error); return; } const rubricScores = {}; document.querySelectorAll('[id^="rubric_"]').forEach((item, index) => { rubricScores[`criteria_${index}`] = item.value; }); const signatureData = canvas ? canvas.toDataURL('image/png', 0.5) : ''; const payload = { type: 'activity', timestamp: new Date().toISOString(), grade: document.getElementById('activityGrade')?.value, time: document.getElementById('activityTime')?.value, activity: document.getElementById('activityName')?.value, selectedGroup: document.getElementById('selectedGroup')?.value, selectedTroop: document.getElementById('selectedTroop')?.value, totalScore: document.getElementById('totalScore')?.value, gradeLevel: document.getElementById('gradeLevel')?.value, comments: document.getElementById('comments')?.value, notes: document.getElementById('notes')?.value, signature: signatureData, rubricScores, summaryPresent: document.getElementById('summaryPresent')?.innerText || 0, summaryLeave: document.getElementById('summaryLeave')?.innerText || 0, summaryAbsent: document.getElementById('summaryAbsent')?.innerText || 0, summarySkipped: document.getElementById('summarySkipped')?.innerText || 0, photo1: photo1_base64, photo2: photo2_base64 }; try { await postData(payload); showSuccessMessage(payload, false); } catch (error) { saveDataLocally(payload, 'offlineActivities'); showSuccessMessage(payload, true); console.error('Failed to save activity to Sheet:', error); } }
    function updateTroopOptions(groupElId,troopElId){const groupSelect=document.getElementById(groupElId);const troopSelect=document.getElementById(troopElId); if (!groupSelect || !troopSelect) return; troopSelect.innerHTML='<option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà</option>'; if(groupSelect.value){ const isM3 = document.getElementById('manageGrade')?.value === '‡∏°.3' || document.getElementById('attendanceGrade')?.value === '‡∏°.3' || document.getElementById('activityGrade')?.value === '‡∏°.3'; const troopCount = isM3 ? 3 : 4; for(let i=1;i<=troopCount;i++){troopSelect.innerHTML+=`<option value="‡∏´‡∏°‡∏π‡πà${i}">‡∏´‡∏°‡∏π‡πà ${i}</option>`;}}}
    function updateManageTroopOptions(){updateTroopOptions('manageGroup','manageTroop');loadManageStudentList();}
    function updateAttendanceTroopOptions(){updateTroopOptions('attendanceGroup','attendanceTroop');loadAttendanceStudentList();}
    function updateActivityTroopOptions(){updateTroopOptions('selectedGroup','selectedTroop'); const troopSelect = document.getElementById('selectedTroop'); if (troopSelect) troopSelect.disabled=!document.getElementById('selectedGroup')?.value; loadStudentList();}
    function openStudentManagement(){ const modal = document.getElementById('studentManagementModal'); if(modal) modal.classList.remove('hidden'); const form = document.getElementById('addStudentForm'); if (form) { const submitHandler = (e)=>{e.preventDefault();saveStudent();}; form.removeEventListener('submit', submitHandler); form.addEventListener('submit', submitHandler); } } // Re-add listener carefully
    function closeStudentManagement(){ const modal = document.getElementById('studentManagementModal'); if(modal) modal.classList.add('hidden'); hideStudentForm();}
    function openAttendanceCheck(){ const modal = document.getElementById('attendanceModal'); const dateInput = document.getElementById('attendanceDate'); if(modal) modal.classList.remove('hidden'); if(dateInput) dateInput.value=new Date().toISOString().split('T')[0];}
    function closeAttendanceCheck(){ const modal = document.getElementById('attendanceModal'); if(modal) modal.classList.add('hidden');}

    // ‚ú® openActivityModal: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô) ‚ú®
    function openActivityModal(time, activity, day) {
        console.log(`Opening modal for: Time=${time}, Activity=${activity}, Day=${day}`);
        try {
            const activityModal = document.getElementById('activityModal');
            const activityTimeInput = document.getElementById('activityTime');
            const activityNameInput = document.getElementById('activityName');

            if (!activityModal || !activityTimeInput || !activityNameInput) {
                console.error("Modal elements not found!");
                Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å', 'error');
                return;
            }

            // Reset form fields before showing modal
            const form = document.getElementById('activityForm');
            if(form) form.reset();
            const photo1 = document.getElementById('photoPreview1');
            const photo2 = document.getElementById('photoPreview2');
            if(photo1) { photo1.classList.add('hidden'); photo1.src = ''; }
            if(photo2) { photo2.classList.add('hidden'); photo2.src = ''; }
            const studentList = document.getElementById('studentAttendanceList');
            const attendanceSum = document.getElementById('attendanceSummary');
            if(studentList) studentList.classList.add('hidden');
            if(attendanceSum) attendanceSum.classList.add('hidden');
            clearSignature();

            // Show modal and set values
            activityModal.classList.remove('hidden');
            activityTimeInput.value = time;
            activityNameInput.value = activity;

            let criteriaKey = 'default';
            if (['‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô', '‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏®', '‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•', '‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà', '‡∏Å‡πà‡∏≠‡πÑ‡∏ü'].some(s => activity.includes(s))) criteriaKey = 'skill';
            else if (['‡∏ú‡∏π‡πâ‡∏ô‡∏≥', '‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤', '‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£', '‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®'].some(s => activity.includes(s))) criteriaKey = 'leadership';
            loadRubricItems(rubricCriteria[criteriaKey]);
            setupSignatureCanvas();

        } catch (error) {
            console.error("Error in openActivityModal:", error);
            Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', `‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ: ${error.message}`, 'error');
        }
    }
    function closeModal() { const modal = document.getElementById('activityModal'); if(modal) modal.classList.add('hidden'); /* Resetting is now in openActivityModal */ }
    function hideStudentForm(){const form = document.getElementById('studentForm'); if(form) form.classList.add('hidden'); editingStudent=null; document.getElementById('addStudentForm')?.reset();}
    function loadRubricItems(criteria){const container=document.getElementById('rubricItems'); if (!container) return; container.innerHTML=criteria.map((item,index)=>`<div class="rubric-item rounded-lg p-4 border"><div class="flex items-center justify-between mb-2"><span class="font-medium">${item.criteria}</span><span class="text-sm text-purple-600">‡πÄ‡∏ï‡πá‡∏°: ${item.maxScore}</span></div><div class="flex items-center space-x-4"><input type="range" min="0" max="${item.maxScore}" value="0" class="flex-1" id="rubric_${index}" oninput="updateRubricScore()"><span id="score_${index}" class="font-bold text-purple-600 min-w-[60px]">0/${item.maxScore}</span></div></div>`).join(''); updateRubricScore();}
    function updateRubricScore(){let total=0; document.querySelectorAll('[id^="rubric_"]').forEach((item,index)=>{const value=parseInt(item.value); const maxScore=parseInt(item.max); const scoreEl = document.getElementById(`score_${index}`); if (scoreEl) scoreEl.textContent=`${value}/${maxScore}`; total+=value;}); const totalScoreInput = document.getElementById('totalScore'); if (totalScoreInput) totalScoreInput.value=total; const gradeSelect=document.getElementById('gradeLevel'); if (gradeSelect) { if(total>=90)gradeSelect.value='‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°'; else if(total>=80)gradeSelect.value='‡∏î‡∏µ‡∏°‡∏≤‡∏Å'; else if(total>=70)gradeSelect.value='‡∏î‡∏µ'; else if(total>=60)gradeSelect.value='‡∏û‡∏≠‡πÉ‡∏ä‡πâ'; else gradeSelect.value='‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á'; }}
    function setupSignatureCanvas(){canvas=document.getElementById('signatureCanvas');if(!canvas)return; ctx=canvas.getContext('2d'); clearSignature(); ['mousedown','touchstart'].forEach(evt=>canvas.addEventListener(evt,startDraw,{passive:false})); ['mousemove','touchmove'].forEach(evt=>canvas.addEventListener(evt,draw,{passive:false})); ['mouseup','mouseout','touchend','touchcancel'].forEach(evt=>canvas.addEventListener(evt,stopDraw));} // Added touchcancel, passive:false
    function getCoords(e){const rect=canvas.getBoundingClientRect();const touch=e.touches?.[0];return[(e.clientX||touch?.clientX||0)-rect.left,(e.clientY||touch?.clientY||0)-rect.top];} // Added fallback for touch
    function startDraw(e){e.preventDefault();isDrawing=true;[ctx.lastX,ctx.lastY]=getCoords(e);}
    function draw(e){if(!isDrawing)return; e.preventDefault(); drawLine(...getCoords(e));}
    function stopDraw(){isDrawing=false;}
    function drawLine(x,y){if (!ctx) return; ctx.beginPath(); ctx.moveTo(ctx.lastX,ctx.lastY); ctx.lineTo(x,y); ctx.strokeStyle='#8b5cf6'; ctx.lineWidth=2; ctx.lineCap='round'; ctx.stroke(); [ctx.lastX,ctx.lastY]=[x,y];}
    function clearSignature(){if(!ctx)return; ctx.fillStyle='#faf5ff'; ctx.fillRect(0,0,canvas.width,canvas.height);}
    function saveDataLocally(data, key) { try { const records = JSON.parse(localStorage.getItem(key) || '[]'); records.push(data); localStorage.setItem(key, JSON.stringify(records)); } catch (error) { console.error('Error saving locally:', error); } }
    function showSuccessMessage(data,isOffline=false){const statusHtml=`<div class="mt-4 p-3 ${isOffline?'bg-yellow-100':'bg-green-100'} rounded-lg text-sm">${isOffline?'‚ö†Ô∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô':'‚òÅÔ∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Sheets ‡πÅ‡∏•‡πâ‡∏ß'}</div>`;if(data.type==='attendance'){closeAttendanceCheck();Swal.fire({icon:'success',title:'‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',html:`<div class="text-left"><p><strong>‡∏Å‡∏•‡∏∏‡πà‡∏°:</strong> ${data.grade}/${data.group}/${data.troop}</p></div>`+statusHtml,confirmButtonColor:'#8b5cf6'});}else{closeModal();closeActivityStatusDashboard();openActivityStatusDashboard();Swal.fire({icon:'success',title:'‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',html:`<div class="text-left"><p><strong>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</strong> ${data.activity}</p><p><strong>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô:</strong> ${data.totalScore}/100</p></div>`+statusHtml,confirmButtonColor:'#8b5cf6'});}}
    async function showActivityReport(){Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô...',didOpen:()=>Swal.showLoading(), allowOutsideClick: false});try{const response=await fetch(SCRIPT_URL+'?action=getActivitySummary'); if (!response.ok) throw new Error('Failed to load activity summary'); const summary=await response.json(); if(Object.keys(summary).length===0){return Swal.fire({icon:'info',title:'‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°'});} let reportHtml='<div class="max-h-[70vh] overflow-y-auto text-left space-y-2">'; for(const gradeName in summary){const gradeData=summary[gradeName];const gradeAvg=gradeData.count > 0 ? (gradeData.totalScore/gradeData.count).toFixed(2) : 'N/A'; reportHtml+=`<details class="bg-gray-100 rounded-xl border overflow-hidden"><summary class="p-4 font-bold text-xl flex justify-between"><span>${gradeName.toUpperCase()}</span><span>‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${gradeAvg}</span></summary><div class="px-4 py-2 border-t space-y-3">`; for(const groupName in gradeData.groups){const groupData=gradeData.groups[groupName]; const groupAvg=groupData.count > 0 ? (groupData.totalScore/groupData.count).toFixed(2) : 'N/A'; reportHtml+=`<details class="bg-purple-50 rounded-lg border"><summary class="p-3 font-semibold text-lg flex justify-between"><span>${groupName}</span><span>‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${groupAvg}</span></summary><div class="p-3 border-t space-y-2">`; for(const troopName in groupData.troops){const troopData=groupData.troops[troopName]; const troopAvg=troopData.count > 0 ? (troopData.totalScore/troopData.count).toFixed(2) : 'N/A'; const activitiesHtml=troopData.activities.map(act=>`<div class="flex justify-between text-sm py-1 pl-4"><span>- ${act.name}</span><span>${act.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span></div>`).join(''); reportHtml+=`<details class="bg-white rounded-md border"><summary class="p-2 font-medium flex justify-between"><span>${troopName}</span><span class="text-sm">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${troopAvg} (${troopData.count} ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)</span></summary><div class="px-2 pb-1 border-t">${activitiesHtml}</div></details>`;} reportHtml+=`</div></details>`;} reportHtml+=`</div></details>`;} reportHtml+='</div>'; Swal.fire({title:'üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°',html:reportHtml,width:'800px',confirmButtonText:'‡∏õ‡∏¥‡∏î'});}catch(error){console.error(error); Swal.fire({icon:'error',title:'‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',text:'‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ'});}}
    async function showAttendanceReport(){Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô...',didOpen:()=>Swal.showLoading(), allowOutsideClick: false});try{const response=await fetch(SCRIPT_URL+'?action=getAttendanceSummary'); if (!response.ok) throw new Error('Failed to load attendance summary'); const summary=await response.json(); if(Object.keys(summary).length===0){return Swal.fire({icon:'info',title:'‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠'});} let reportHtml='<div class="max-h-[60vh] overflow-y-auto text-left space-y-2">'; const statusOrder=['‡∏°‡∏≤','‡∏•‡∏≤','‡∏Ç‡∏≤‡∏î','‡∏´‡∏ô‡∏µ']; for(const grade in summary){for(const group in summary[grade]){for(const troop in summary[grade][group]){const data=summary[grade][group][troop]; const totalEnrolled=studentData[grade]?.[group]?.[troop]?.length||0; let statusText=statusOrder.filter(status=>data[status]).map(status=>`${status} ${data[status]}`).join(', '); reportHtml+=`<div class="p-3 bg-green-50 border rounded-lg"><div class="font-semibold">${grade} ${group} ${troop}</div><div class="text-sm text-gray-600">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${totalEnrolled} ‡∏Ñ‡∏ô: ${statusText}</div></div>`;}}} reportHtml+='</div>'; Swal.fire({title:'‚úÖ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠',html:reportHtml,width:'600px',confirmButtonText:'‡∏õ‡∏¥‡∏î'});}catch(error){console.error(error); Swal.fire({icon:'error',title:'‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',text:'‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ'});}}
    async function openActivityStatusDashboard() { const modal = document.getElementById('activityStatusModal'); if (modal) modal.classList.remove('hidden'); else return; Swal.fire({ title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...', allowOutsideClick: false, didOpen: () => Swal.showLoading() }); try { const response = await fetch(SCRIPT_URL + '?action=getRecordedActivities'); if (!response.ok) throw new Error('Failed to fetch recorded activities.'); recordedActivitiesData = await response.json(); renderActivityStatusTable('m1'); const firstTab = document.querySelector('#statusTabs a:first-child'); if (firstTab) setActiveTab(firstTab); } catch (error) { console.error(error); Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ', 'error'); } finally { Swal.close(); } }
    function closeActivityStatusDashboard() { const modal = document.getElementById('activityStatusModal'); if (modal) modal.classList.add('hidden'); }
    function setActiveTab(selectedTab) { if (!selectedTab) return; document.querySelectorAll('.status-tab').forEach(tab => { tab.classList.remove('text-purple-600', 'border-purple-600'); tab.classList.add('text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300'); }); selectedTab.classList.add('text-purple-600', 'border-purple-600'); selectedTab.classList.remove('text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300'); }
    function renderActivityStatusTable(gradeKey) { // Needs refinement based on data structure
        currentStatusGrade = gradeKey;
        const gradeMap = { 'm1': '‡∏°.1', 'm2': '‡∏°.2', 'm3': '‡∏°.3' };
        const gradeThai = gradeMap[gradeKey];
        const recordedList = recordedActivitiesData && recordedActivitiesData[gradeThai] ? recordedActivitiesData[gradeThai] : [];
        const tableBody = document.getElementById('activityStatusTableBody');
        const printBtn = document.getElementById('printGradeReportBtn');
        if (!tableBody || !printBtn) return;
        tableBody.innerHTML = '';
        printBtn.textContent = `‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ ${gradeThai}`;

        // Example using a predefined schedule structure (replace with your actual structure if different)
        // This structure needs to be defined somewhere, maybe fetched or hardcoded if static
        const gradeSchedule = { // Define schedules for each grade, example for m1 term 1
            'm1': [
                { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1', activities: ['‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡∏Å', '‡∏Ñ‡∏≥‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ï‡∏¥‡∏û‡∏à‡∏ô‡πå (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)', '‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå'] },
                { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2', activities: ['‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤)', '‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß (‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)', '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏°‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏Å‡∏´‡∏ß‡∏µ‡∏î', '‡∏™‡∏≤‡∏ò‡∏¥‡∏ï‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•)'] },
                { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3', activities: ['‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏á-‡∏£‡∏∑‡πâ‡∏≠-‡πÄ‡∏Å‡πá‡∏ö-‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå', '‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£', '‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏® (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏ó‡∏¥‡∏®)', '‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å (9 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô)', '‡∏Å‡∏≤‡∏£‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢', '‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏•‡∏Å'] }
                // ... add schedules for m2, m3, term 2 etc.
            ],
             'm2': [ // Example structure for M2
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1', activities: ['‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏® (‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô/‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢)', '‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥/‡∏Ç‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£)', '‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥ (‡∏õ‡∏è‡∏¥‡∏ç‡∏≤‡∏ì, ‡∏Å‡∏é, ‡∏®‡∏µ‡∏• 5/8, ‡∏®‡∏≤‡∏™‡∏ô‡∏≤)'] },
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2', activities: ['‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏û‡∏∑‡∏ä/‡∏™‡∏±‡∏ï‡∏ß‡πå/‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)', '‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏ó‡πâ‡∏≤, ‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå, ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô)', '‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö/‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î)'] },
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3', activities: ['‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞ (‡∏ó‡∏±‡∏®‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå, ‡∏õ‡∏±‡πâ‡∏ô, ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û)', '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', '‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)', '‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©'] }
             ],
             'm3': [ // Example structure for M3
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1', activities: ['‡∏õ‡∏ê‡∏°‡∏ô‡∏¥‡πÄ‡∏ó‡∏®', '‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á', '‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', '‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ô‡∏≥'] },
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2', activities: ['‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à', '‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢', '‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏ñ‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏≤‡∏°', '‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£'] },
                 { time: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3', activities: ['‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞', '‡∏≠‡∏∏‡∏î‡∏°‡∏Ñ‡∏ï‡∏¥', '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©', '‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏Ñ‡∏ó‡∏§‡∏©‡∏é‡∏µ'] }
             ]
        };

        const currentGradeSchedule = gradeSchedule[gradeKey]; // Get schedule for the selected grade

        if (currentGradeSchedule && currentGradeSchedule.length > 0) {
             // Assuming structure maps roughly to Day 1, Day 2, Day 3 columns
             // This needs adjustment based on how you want to display Term 1 vs Term 2 data
             // We'll just show all activities listed for now
            let maxActivities = 0;
            currentGradeSchedule.forEach(day => maxActivities = Math.max(maxActivities, day.activities.length));

            for (let i = 0; i < maxActivities; i++) {
                let tableRow = `<tr>`;
                tableRow += `<td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ${i + 1}</td>`; // Placeholder time/index

                currentGradeSchedule.forEach((dayData, dayIndex) => {
                    const activityName = dayData.activities[i];
                    tableRow += `<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">`;
                    if (activityName) {
                        const isRecorded = recordedList.includes(activityName);
                        tableRow += `<div>${activityName}</div>`;
                        if (isRecorded) {
                            tableRow += `<div class="mt-2"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</span></div>`;
                        } else {
                            // Pass dayData.time (e.g., '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1') and dayIndex+1
                            tableRow += `<div class="mt-2"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">üÖæÔ∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</span> <button onclick="openActivityModal('${dayData.time}', '${activityName.replace(/'/g, "\\'")}', ${dayIndex + 1})" class="ml-2 text-xs text-purple-600 hover:underline">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></div>`;
                        }
                    } else {
                        tableRow += `-`; // Empty cell if no activity for this index on this day
                    }
                    tableRow += `</td>`;
                });

                // Fill remaining columns if schedule structure is uneven (less likely with 3 days)
                 const remainingCols = 3 - currentGradeSchedule.length;
                 for (let j = 0; j < remainingCols; j++) {
                     tableRow += `<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>`;
                 }

                tableRow += `</tr>`;
                tableBody.innerHTML += tableRow;
            }

        } else {
            tableBody.innerHTML = `<tr><td colspan="4" class="text-center py-10 text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${gradeThai} ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</td></tr>`;
        }
    }

    const createPrintContentForActivity = (details) => { const getImageUrl = (formula) => { if (!formula || typeof formula !== 'string' || !formula.startsWith('=IMAGE')) return ''; try { const match = formula.match(/"(.*?)"/); return match ? match[1] : ''; } catch { return ''; } }; const photo1Url = getImageUrl(details['Photo 1']); const photo2Url = getImageUrl(details['Photo 2']); const signatureUrl = getImageUrl(details['Signature']); return ` <div class="print-form"> <header class="form-header"> <h1>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡πÄ‡∏™‡∏∑‡∏≠</h1> <h2>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤</h2> </header> <div class="data-grid"> <div class="data-field"><strong>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô:</strong><span>${details.Grade || ''}</span></div> <div class="data-field"><strong>‡∏Å‡∏≠‡∏á/‡∏´‡∏°‡∏π‡πà:</strong><span>${(details.Group || '') + ' / ' + (details.Troop || '')}</span></div> <div class="data-field"><strong>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</strong><span>${details.Activity || ''}</span></div> <div class="data-field"><strong>‡πÄ‡∏ß‡∏•‡∏≤:</strong><span>${details.Time || ''}</span></div> <div class="data-field full-width"><strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠:</strong><span>${details.Timestamp ? new Date(details.Timestamp).toLocaleString('th-TH') : ''}</span></div> </div> <div class="data-grid"> <div class="data-field full-width"> <strong>‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°:</strong> <span class="attendance-item">‡∏°‡∏≤ <span>${details.Present || 0}</span></span> <span class="attendance-item">‡∏•‡∏≤ <span>${details.Leave || 0}</span></span> <span class="attendance-item">‡∏Ç‡∏≤‡∏î <span>${details.Absent || 0}</span></span> <span class="attendance-item">‡∏´‡∏ô‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô <span>${details.Skipped || 0}</span></span> </div> </div> <div class="data-grid"> <div class="data-field full-width no-border"><strong>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</strong></div> <div class="data-field"><strong>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°:</strong><span>${details['Total Score'] || 0} / 100</span></div> <div class="data-field"><strong>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•:</strong><span>${details['Grade Level'] || 'N/A'}</span></div> </div> <div class="data-grid"> <div class="data-field full-width"><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô/‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ó‡πå:</strong><span>${details.Comments || ''}</span></div> </div> <section class="photo-section"> <h3>‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3> <div class="photo-grid"> <div class="photo-container"> ${photo1Url ? `<img src="${photo1Url}" crossorigin="anonymous">` : '<p>(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏û)</p>'} <p>‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 1</p> </div> <div class="photo-container"> ${photo2Url ? `<img src="${photo2Url}" crossorigin="anonymous">` : '<p>(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏û)</p>'} <p>‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà 2</p> </div> </div> </section> <footer class="form-footer"> <div class="signature-area"> <div class="signature-box"> ${signatureUrl ? `<img src="${signatureUrl}" crossorigin="anonymous" class="signature-img">` : '<p>(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô)</p>'} </div> <p>(‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏Å‡∏±‡∏ö)</p> </div> </footer> </div> `; };
    async function printGradeReport() { const gradeMap = { 'm1': '‡∏°.1', 'm2': '‡∏°.2', 'm3': '‡∏°.3' }; const gradeThai = gradeMap[currentStatusGrade]; Swal.fire({ title: `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ ${gradeThai}...`, html: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û...', allowOutsideClick: false, didOpen: () => Swal.showLoading() }); try { const response = await fetch(`${SCRIPT_URL}?action=getActivitiesForGrade&grade=${encodeURIComponent(gradeThai)}`); if (!response.ok) throw new Error('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ'); const activities = await response.json(); if (!activities || activities.length === 0) { throw new Error(`‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${gradeThai}`); } let fullReportHtml = ''; activities.forEach((details, index) => { const pageBreakClass = index > 0 ? 'page-break' : ''; fullReportHtml += `<div class="single-page-activity ${pageBreakClass}">`; fullReportHtml += createPrintContentForActivity(details); fullReportHtml += `</div>`; }); document.getElementById('printArea').innerHTML = fullReportHtml; const images = document.querySelectorAll('#printArea img'); const promises = []; images.forEach(img => { if (img.src && img.src !== window.location.href) { promises.push(new Promise((resolve) => { const imageLoader = new Image(); imageLoader.onload = resolve; imageLoader.onerror = resolve; imageLoader.src = img.src; })); } }); Promise.all(promises).then(() => { Swal.close(); setTimeout(() => { window.print(); }, 250); }); } catch (error) { console.error(error); Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', error.message, 'error'); } }

    // Add function to handle potential offline data sync (basic example)
    async function syncOfflineData() {
        const offlineAttendance = JSON.parse(localStorage.getItem('offlineAttendance') || '[]');
        const offlineActivities = JSON.parse(localStorage.getItem('offlineActivities') || '[]');
        let successCount = 0;
        let errorCount = 0;

        if (offlineAttendance.length === 0 && offlineActivities.length === 0) {
            console.log("No offline data to sync.");
            return;
        }

        Swal.fire({
            title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Offline...',
            html: `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠: ${offlineAttendance.length}, ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°: ${offlineActivities.length}`,
            allowOutsideClick: false,
            didOpen: () => Swal.showLoading()
        });

        const syncPromises = [];

        offlineAttendance.forEach(payload => {
            syncPromises.push(postData(payload).then(() => successCount++).catch(() => errorCount++));
        });
        offlineActivities.forEach(payload => {
            syncPromises.push(postData(payload).then(() => successCount++).catch(() => errorCount++));
        });

        await Promise.all(syncPromises);

        if (errorCount === 0) {
            localStorage.removeItem('offlineAttendance');
            localStorage.removeItem('offlineActivities');
            Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', `‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Offline ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${successCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`, 'success');
        } else {
            // NOTE: More sophisticated error handling needed here.
            // For now, just inform the user. Data remains in localStorage.
            Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', `‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ${successCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£, ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ${errorCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà`, 'warning');
        }
         // Optionally reload dashboard data after sync
         loadDashboardData();
         openActivityStatusDashboard(); // Refresh status
    }

     // Attempt to sync offline data when online (basic check)
     window.addEventListener('online', syncOfflineData);
     // Also try syncing on load if online
     if (navigator.onLine) {
         syncOfflineData();
     }

</script>
</body>
</html>
